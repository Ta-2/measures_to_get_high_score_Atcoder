(this["webpackJsonpatcoder-problems"]=this["webpackJsonpatcoder-problems"]||[]).push([[0],{260:function(e,t,n){e.exports=n(512)},265:function(e,t,n){},495:function(e,t){},512:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(27),o=n.n(l),c=(n(265),n(14)),i=n(42),u=n(551),s=n(9),m=n(10),d=n(514),f=n(18),p=function(e){return r.a.createElement(d.a,null,r.a.createElement("h2",null,e.title),r.a.createElement(f.BootstrapTable,{height:"auto",data:(t=e.ranking,t.sort((function(e,t){return t.problem_count-e.problem_count})).reduce((function(e,t,n){var a=0===e.length?void 0:e[e.length-1],r=a&&a.count===t.problem_count?{rank:a.rank,id:t.user_id,count:t.problem_count}:{rank:n+1,id:t.user_id,count:t.problem_count};return e.push(r),e}),[])),pagination:!0,striped:!0,hover:!0,search:!0,options:{paginationPosition:"top",sizePerPage:20,sizePerPageList:[{text:"20",value:20},{text:"50",value:50},{text:"100",value:100},{text:"200",value:200},{text:"All",value:e.ranking.length}]}},r.a.createElement(f.TableHeaderColumn,{dataField:"rank"},"#"),r.a.createElement(f.TableHeaderColumn,{dataField:"id",isKey:!0},"User"),r.a.createElement(f.TableHeaderColumn,{dataField:"count"},"Count")));var t},b=n(4),h=n(31),E=n.n(h),v=n(58),g=n(13),y=function(e){return"string"===typeof e.id&&"string"===typeof e.contest_id&&"string"===typeof e.title&&("string"===typeof e.first_user_id||null===e.first_user_id)&&("string"===typeof e.first_contest_id||null===e.first_contest_id)&&("number"===typeof e.first_submission_id||null===e.first_submission_id)&&("string"===typeof e.fastest_user_id||null===e.fastest_user_id)&&("string"===typeof e.fastest_contest_id||null===e.fastest_contest_id)&&("number"===typeof e.fastest_submission_id||null===e.fastest_submission_id)&&("number"===typeof e.execution_time||null===e.execution_time)&&("string"===typeof e.shortest_user_id||null===e.shortest_user_id)&&("string"===typeof e.shortest_contest_id||null===e.shortest_contest_id)&&("number"===typeof e.shortest_submission_id||null===e.shortest_submission_id)&&("number"===typeof e.source_code_length||null===e.source_code_length)&&("number"===typeof e.solver_count||null===e.solver_count)&&("number"===typeof e.point||"undefined"===typeof e.point||null===e.point)},_=function(e){return("number"===typeof e.slope||"undefined"===typeof e.slope)&&("number"===typeof e.intercept||"undefined"===typeof e.intercept)&&("number"===typeof e.difficulty||"undefined"===typeof e.difficulty)&&("number"===typeof e.rawDifficulty||"undefined"===typeof e.rawDifficulty)&&("number"===typeof e.discrimination||"undefined"===typeof e.discrimination)&&"boolean"===typeof e.is_experimental},S=function(e){return void 0!==e&&("number"===typeof e.slope||"undefined"===typeof e.slope)&&("number"===typeof e.intercept||"undefined"===typeof e.intercept)&&"number"===typeof e.difficulty&&"number"===typeof e.rawDifficulty&&"number"===typeof e.discrimination&&"boolean"===typeof e.is_experimental},C=function(e){return void 0!==e&&"number"===typeof e.slope&&"number"===typeof e.intercept&&"number"===typeof e.variance&&("number"===typeof e.difficulty||"undefined"===typeof e.difficulty)&&("number"===typeof e.rawDifficulty||"undefined"===typeof e.rawDifficulty)&&("number"===typeof e.discrimination||"undefined"===typeof e.discrimination)&&"boolean"===typeof e.is_experimental},k=function(e){return"number"===typeof e.start_epoch_second&&"string"===typeof e.rate_change&&"string"===typeof e.id&&"number"===typeof e.duration_second&&"string"===typeof e.title},O=function(e){return"string"===typeof e.id&&"string"===typeof e.contest_id&&"string"===typeof e.title},j=function(e){return("number"===typeof e.execution_time||null===e.execution_time)&&"number"===typeof e.point&&"string"===typeof e.result&&"string"===typeof e.problem_id&&"string"===typeof e.user_id&&"number"===typeof e.epoch_second&&"string"===typeof e.contest_id&&"number"===typeof e.id&&"string"===typeof e.language&&"number"===typeof e.length},w=function(e){return"number"===typeof e.problem_count&&"string"===typeof e.user_id},x=function(e){return"string"===typeof e.user_id&&"number"===typeof e.point_sum},I=function(e){return"string"===typeof e.user_id&&"number"===typeof e.count&&"string"===typeof e.language},F=function(e){return"string"===typeof e.user_id&&"number"===typeof e.streak},M=function(e){return"boolean"===typeof e.IsRated&&"number"===typeof e.Place&&"number"===typeof e.OldRating&&"number"===typeof e.NewRating&&"number"===typeof e.Performance&&"number"===typeof e.InnerPerformance&&"string"===typeof e.ContestScreenName&&"string"===typeof e.ContestName&&"string"===typeof e.EndTime},N=n(98),P=function e(t,n){if(Object(N.a)(this,e),this.rating=void 0,this.participationCount=void 0,this.internalRating=void 0,this.rating=t,this.participationCount=n,0===n)this.internalRating=null;else{var a;a=t<=400?400*(1-Math.log(400/t)):t;var r=(Math.sqrt(1-Math.pow(.9,2*n))/(1-Math.pow(.9,n))-1)/(Math.sqrt(19)-1)*1200;this.internalRating=a+r}},A=function(e){var t=e.last({NewRating:0}).NewRating,n=e.filter((function(e){return e.IsRated})).count();return new P(t,n)},R=["future_contest_2020_final_2_b","future_contest_2020_qual_b","future_contest_2019_final_b","future_contest_2019_qual_b","future2018career_b","future_contest_2020_final_b"],D=function(e){return R.includes(e)},T={difficultyBlackColor:"#404040",difficultyGreyColor:"#808080",difficultyBrownColor:"#804000",difficultyGreenColor:"#008000",difficultyCyanColor:"#00C0C0",difficultyBlueColor:"#0000FF",difficultyYellowColor:"#C0C000",difficultyOrangeColor:"#FF8000",difficultyRedColor:"#FF0000"},L=Object(g.a)(Object(g.a)({},T),{},{difficultyBlackColor:"#FFFFFF",difficultyGreyColor:"#C0C0C0",difficultyBrownColor:"#B08C56",difficultyGreenColor:"#3FAF3F",difficultyCyanColor:"#42E0E0",difficultyBlueColor:"#8888FF",difficultyYellowColor:"#FFFF56",difficultyOrangeColor:"#FFB836",difficultyRedColor:"#FF6767"}),B=T,U=/[0-9a-zA-Z_]+/,G=new RegExp("^".concat(U.source,"$")),H=new RegExp("^\\s*(".concat(U.source,")\\s*(,\\s*(").concat(U.source,")\\s*)*$")),z=function(e){var t=e.trim();return G.exec(t)?t:""},W=function(e){return"AC"===e},J=function(e){return["AC","WA","TLE","CE","RE","MLE","OLE","QLE","IE","NG"].includes(e)},Y=function(e){return!!/^(vjudge\d|luogu_bot\d)$/.exec(e)},q=function(e){var t=e%10,n=e%100;return 1===t&&11!==n?"st":2===t&&12!==n?"nd":3===t&&13!==n?"rd":"th"},K=function(e){return Math.round(e>=400?e:400/Math.exp(1-e/400))},V=["Black","Grey","Brown","Green","Cyan","Blue","Yellow","Orange","Red"],Z=function(e){var t=Math.min(Math.floor(e/400),V.length-2);return V[t+1]},$=function(e){switch(Z(e)){case"Black":return"difficulty-black";case"Grey":return"difficulty-grey";case"Brown":return"difficulty-brown";case"Green":return"difficulty-green";case"Cyan":return"difficulty-cyan";case"Blue":return"difficulty-blue";case"Yellow":return"difficulty-yellow";case"Orange":return"difficulty-orange";case"Red":return"difficulty-red"}},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T;switch(e){case"Black":return t.difficultyBlackColor;case"Grey":return t.difficultyGreyColor;case"Brown":return t.difficultyBrownColor;case"Green":return t.difficultyGreenColor;case"Cyan":return t.difficultyCyanColor;case"Blue":return t.difficultyBlueColor;case"Yellow":return t.difficultyYellowColor;case"Orange":return t.difficultyOrangeColor;case"Red":return t.difficultyRedColor}},X=function(e,t){for(var n=Object(s.a)(),a=void 0===t?e.size:Math.min(t,e.size),r=0;r<a;++r){var l=Math.floor(Math.random()*(e.size-r))+r;n=n.push(e.get(l)),e=e.set(l,e.get(r))}return n},ee=function(e){return Array.from(e.entries()).reduce((function(e,t){var n=Object(b.a)(t,2),a=n[0],r=n[1];return Object.assign(e,{[a]:r})}),{})},te="https://kenkoooo.com/atcoder/resources";function ne(e,t){return fetch(e).then((function(e){return e.json()})).then((function(e){return e.filter(t)})).then((function(e){return Object(s.a)(e)}))}function ae(e,t){return fetch(e).then((function(e){return e.json()})).then((function(e){return e.filter(t)}))}var re,le,oe,ce,ie,ue,se,me,de,fe,pe=function(){return(e=te+"/problem-models.json",t=_,fetch(e).then((function(e){return e.json()})).then((function(e){return Object(s.b)(e)})).then((function(e){return e.filter(t)}))).then((function(e){return e.map((function(e){return void 0===e.difficulty?e:Object(g.a)(Object(g.a)({},e),{},{difficulty:K(e.difficulty),rawDifficulty:e.difficulty})}))}));var e,t},be=function(){var e=Object(v.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0)){e.next=6;break}return e.next=3,ne("".concat("https://kenkoooo.com/atcoder/proxy","/users/").concat(t,"/history/json"),M).catch((function(){return Object(s.a)()}));case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=Object(s.a)();case 7:return n=e.t0,e.abrupt("return",A(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){return ne(te+"/contests.json",k).then((function(e){return e.reduce((function(e,t){return e.set(t.id,t)}),Object(s.b)())}))},Ee=function(e,t,n,a){if(0===e.length)return Promise.resolve(Object(s.a)());var r=e.join(","),l=t.join(",");return ne("".concat("https://kenkoooo.com/atcoder/atcoder-api","/v3/users_and_time?users=").concat(r,"&problems=").concat(l,"&from=").concat(n,"&to=").concat(a),j)},ve=function(){return void 0===re&&(re=ne(te+"/merged-problems.json",y).then((function(e){return e.filter((function(e){return!D(e.id)}))}))),re},ge=function(){return void 0===le&&(le=ve().then((function(e){return e.reduce((function(e,t){return e.set(t.id,t)}),Object(s.b)())}))),le},ye=function(){return void 0===oe&&(oe=pe()),oe},_e=function(){return void 0===ce&&(ce=he()),ce},Se=function(){return void 0===ie&&(ie=ne(te+"/problems.json",O).then((function(e){return e.filter((function(e){return!D(e.id)}))})).then((function(e){return e.reduce((function(e,t){return e.set(t.id,t)}),Object(s.b)())}))),ie},Ce=function(){var e=Object(v.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(te+"/contest-problem.json",(function(e){return"string"===typeof e.contest_id&&"string"===typeof e.problem_id}));case 2:return t=e.sent,e.next=5,Se();case 5:return n=e.sent,e.abrupt("return",t.map((function(e){var t=e.contest_id,a=e.problem_id;return{contest_id:t,problem:n.get(a)}})).reduce((function(e,t){var n=t.contest_id,a=t.problem;return void 0===a?e:e.update(n,Object(s.a)(),(function(e){return e.push(a)}))}),Object(s.b)()));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){return void 0===ue&&(ue=Ce()),ue},Oe=Object(s.b)(),je=function(e){var t=Oe.get(e);if(t)return t;var n=function(e){return e.length>0?ne("".concat("https://kenkoooo.com/atcoder/atcoder-api","/results?user=").concat(e),j):Promise.resolve(Object(s.a)()).then((function(e){return e.filter((function(e){return J(e.result)}))}))}(e);return Oe=Oe.set(e,n),n},we=function(){return void 0===se&&(se=ae(te+"/streaks.json",F).then((function(e){return e.map((function(e){return{problem_count:e.streak,user_id:e.user_id}}))}))),se},xe=function(){return void 0===me&&(me=ae(te+"/ac.json",w).then((function(e){return e.filter((function(e){return!Y(e.user_id)}))}))),me},Ie=function(e,t){return e.map((function(e){return e[t]})).reduce((function(e,t){return t?e.update(t,0,(function(e){return e+1})):e}),Object(s.b)()).entrySeq().map((function(e){var t=Object(b.a)(e,2);return{user_id:t[0],problem_count:t[1]}})).toList()},Fe=function(){return ve().then((function(e){return Ie(e,"shortest_user_id")}))},Me=function(){return ve().then((function(e){return Ie(e,"fastest_user_id")}))},Ne=function(){return ve().then((function(e){return Ie(e,"first_user_id")}))},Pe={userId:"",selectableLanguages:void 0},Ae=function(){return void 0===fe&&(fe=ae(te+"/sums.json",x).then((function(e){return e.map((function(e){return{problem_count:e.point_sum,user_id:e.user_id}}))})).then((function(e){return e.filter((function(e){return!Y(e.user_id)}))}))),fe},Re=Object(s.b)(),De=function(e){var t=Re.get(e);if(t)return t;var n=be(e);return Re=Re.set(e,n),n},Te=Object(m.connect)((function(){return{rankingFetch:{comparison:null,value:function(){return xe()}}}}))((function(e){return r.a.createElement(p,{title:"AC Count Ranking",ranking:e.rankingFetch.fulfilled?e.rankingFetch.value:[]})})),Le=Object(m.connect)((function(){return{rankingFetch:{comparison:null,value:Me}}}))((function(e){return r.a.createElement(p,{title:"Fastest Submission Ranking",ranking:e.rankingFetch.fulfilled?e.rankingFetch.value.toArray():[]})})),Be=Object(m.connect)((function(){return{rankingFetch:{comparison:null,value:Ne}}}))((function(e){return r.a.createElement(p,{title:"First AC Ranking",ranking:e.rankingFetch.fulfilled?e.rankingFetch.value.toArray():[]})})),Ue=Object(m.connect)((function(){return{rankingFetch:{comparison:null,value:Fe}}}))((function(e){return r.a.createElement(p,{title:"Top Golfers",ranking:e.rankingFetch.fulfilled?e.rankingFetch.value.toArray():[]})})),Ge=Object(m.connect)((function(){return{rankingFetch:{comparison:null,value:Ae}}}))((function(e){return r.a.createElement(p,{title:"Rated Point Ranking",ranking:e.rankingFetch.fulfilled?e.rankingFetch.value:[]})})),He=n(515),ze=n(516),We=n(219),Je=function(e){return r.a.createElement("div",null,r.a.createElement(d.a,{className:"justify-content-center my-2 border-bottom"},r.a.createElement("h1",null,e.language)),r.a.createElement(d.a,null,e.ranking.slice(0,e.size).map((function(e,t){var n=e.user_id,a=e.count;return r.a.createElement(He.a,{key:n,className:"text-center"},r.a.createElement("h5",null,"".concat(t+1).concat(q(t+1))),r.a.createElement("h3",null,n),r.a.createElement("h5",{className:"text-muted"},a," AC"))}))))},Ye=[3,5,10,20],qe=Object(m.connect)((function(){return{rankingFetch:{comparison:null,value:function(){return void 0===de&&(de=ne(te+"/lang.json",I).then((function(e){return e.reduce((function(e,t){return e.update(t.language,Object(s.a)(),(function(e){return e.push(t)}))}),Object(s.b)()).map((function(e){return e.sort((function(e,t){return t.count-e.count}))}))}))),de}}}}))((function(e){var t=Object(a.useState)(3),n=Object(b.a)(t,2),l=n[0],o=n[1],c=e.rankingFetch.fulfilled?e.rankingFetch.value:Object(s.b)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"clearfix"},r.a.createElement(ze.a,{className:"float-right"},Ye.map((function(e){return r.a.createElement(We.a,{key:e,color:"secondary",onClick:function(){return o(e)},active:l===e},e)})))),r.a.createElement("div",null,c.sortBy((function(e,t){return t})).map((function(e,t){return r.a.createElement(Je,{key:t,language:t,ranking:e,size:l})})).valueSeq().toArray()))})),Ke=n(22),Ve=n(555),Ze=n(554),$e=n(519),Qe=n(520),Xe=n(518),et=n(78),tt=n.n(et),nt=n(517),at=n(132),rt=function(e,t){return 1/(1+Math.exp(-e.discrimination*(t-e.rawDifficulty)))},lt=function(e,t){var n=e.slope*t+e.intercept;return Math.exp(n)},ot=function(e){if(null===e)return"-";if(e<30)return"<1 min";var t=Math.round(e/60);return"".concat(t," mins")},ct=function(e){if(null===e)return"-";if(e<.005)return"<1%";if(e>.995)return">99%";var t=Math.round(100*e);return"".concat(t,"%")},it=n(220);function ut(e,t){var n=localStorage.getItem(e),a=r.a.useState(n?JSON.parse(n):t),l=Object(b.a)(a,2),o=l[0],c=l[1];return r.a.useEffect((function(){localStorage.setItem(e,JSON.stringify(o))}),[o,e]),[o,c]}var st={light:T,dark:L,purple:B},mt=r.a.createContext(["light",function(){throw new Error("setThemeId is not implemented.")}]),dt=function(e){var t=ut("theme","light"),n=Object(b.a)(t,2),a=n[0],l=n[1];return r.a.createElement(mt.Provider,{value:[a,l]},r.a.createElement(it.a,null,r.a.createElement("html",{className:"theme-".concat(a)})),e.children)},ft=function(e){var t=e.color,n=e.rating,a=n>=3200?1:n%400/400,l="topcoder-like-circle     ".concat(e.big?"topcoder-like-circle-big":""),o=function(e,t,n){if("Bronze"===e||"Silver"===e||"Gold"===e){var a=function(e){switch(e){case"Bronze":return{base:"#965C2C",highlight:"#FFDABD"};case"Silver":return{base:"#808080",highlight:"white"};case"Gold":return{base:"#FFD700",highlight:"white"}}}(e);return Object({borderColor:a.base,background:"linear-gradient(to right,         ".concat(a.base,", ").concat(a.highlight,", ").concat(a.base,")")})}var r=Q(e,n);return Object({borderColor:r,background:"linear-gradient(to top,         ".concat(r," 0%,         ").concat(r," ").concat(100*t,"%,         rgba(0,0,0,0) ").concat(100*t,"%,         rgba(0,0,0,0) 100%)")})}(t,a,function(){var e=r.a.useContext(mt),t=Object(b.a)(e,1)[0];return st[t]}());return r.a.createElement("span",{className:"".concat(l," ").concat(e.className),id:e.id,style:o})};var pt,bt=function(e){var t=e.id,n=e.problemModel,l=e.userRatingInfo,o=null===n||void 0===n?void 0:n.difficulty,c=Object(a.useState)(!1),i=Object(b.a)(c,2),u=i[0],s=i[1],m=function(){return s(!u)},d="DifficultyCircle-"+t;if(void 0===o)return r.a.createElement("span",null,r.a.createElement(nt.a,{className:"difficulty-unavailable-circle",color:"info",id:d,pill:!0},"?"),r.a.createElement(at.a,{placement:"top",target:d,isOpen:u,toggle:m},"Difficulty is unavailable."));var f=function(e){return e<3200?Z(e):e<3600?"Bronze":e<4e3?"Silver":"Gold"}(o),p=void 0===n||void 0===(null===l||void 0===l?void 0:l.internalRating)||null===(null===l||void 0===l?void 0:l.internalRating)||!1===S(n)?"-":ct(rt(n,l.internalRating)),h=void 0===n||void 0===(null===l||void 0===l?void 0:l.internalRating)||null===(null===l||void 0===l?void 0:l.internalRating)||!1===C(n)?"-":ot(lt(n,l.internalRating)),E="Difficulty: ".concat(o),v="Solve Prob: ".concat(p),g="Solve Time: ".concat(h),y=r.a.createElement(r.a.Fragment,null,E,r.a.createElement("br",null),v,r.a.createElement("br",null),g);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft,{color:f,rating:o,className:"difficulty-circle",id:d}),r.a.createElement(at.a,{placement:"top",target:d,isOpen:u,toggle:m},y))};!function(e){e[e.Success=0]="Success",e[e.Failed=1]="Failed",e[e.Warning=2]="Warning",e[e.None=3]="None"}(pt||(pt={}));var ht,Et=function(){return{label:pt.None}},vt=function(e,t){var n=new Map;e.forEach((function(e){var t,a=null!==(t=n.get(e.problem_id))&&void 0!==t?t:[];a.push(e),n.set(e.problem_id,a)}));var a=new Map;return Array.from(n.keys()).forEach((function(e){var r,l=null!==(r=n.get(e))&&void 0!==r?r:[],o=l.filter((function(e){return e.user_id===t})).filter((function(e){return W(e.result)})),c=l.filter((function(e){return e.user_id===t})).filter((function(e){return!W(e.result)})),i=l.filter((function(e){return e.user_id!==t})).filter((function(e){return W(e.result)})),u=c.map((function(e){return e.epoch_second}));if(o.length>0){var s=new Set(o.map((function(e){return e.language}))),m=o.map((function(e){return e.epoch_second})).reduceRight((function(e,t){return Math.min(e,t)})),d=o.map((function(e){return e.epoch_second})).reduceRight((function(e,t){return Math.max(e,t)}));a.set(e,function(e,t,n,a){return{label:pt.Success,epoch:e,lastAcceptedEpochSecond:t,solvedLanguages:n,rejectedEpochSeconds:a}}(m,d,s,u.filter((function(e){return e<m}))))}else if(i.length>0){var f=new Set(i.map((function(e){return e.user_id})));a.set(e,function(e,t){return{label:pt.Failed,solvedRivals:e,rejectedEpochSeconds:t}}(f,u))}else if(c.length>0){c.sort((function(e,t){return t.id-e.id}));var p=c[c.length-1];a.set(e,function(e,t,n){return{label:pt.Warning,result:e,epoch:t,rejectedEpochSeconds:n}}(p.result,p.epoch_second,u))}else a.set(e,Et())})),a},gt=n(53),yt=n.n(gt),_t=function(e){return yt.a.unix(e)},St=function(e){return yt()(e,"YYYY-MM-DD")},Ct=function(e){return e.format("YYYY-MM-DD")},kt=function(e){return e.format("YYYY-MM-DD HH:mm:ss")},Ot=function(e){return e.format("YYYY-MM-DD HH:mm:ss (ddd)")},jt=function(){return yt()()},wt=function(e){var t=Math.floor(e/3600),n=Math.floor(e/60)-60*t,a=e-3600*t-60*n,r=n<10?"0"+n:""+n,l=a<10?"0"+a:""+a;return"".concat(t,":").concat(r,":").concat(l)},xt=function(){return Math.floor(Date.now()/1e3)},It=function(e,t){var n=new URLSearchParams(e.search);return Object.keys(t).forEach((function(e){return n.set(e,t[e])})),"".concat(e.pathname,"?").concat(n.toString())},Ft=function(){return fetch("".concat("https://kenkoooo.com/atcoder/atcoder-api","/v3/recent")).then((function(e){return e.json()})).then((function(e){return e.filter(j)}))},Mt=function(e){return e.length>0?fetch("".concat("https://kenkoooo.com/atcoder/atcoder-api","/results?user=").concat(e)).then((function(e){return e.json()})).then((function(e){return e.filter(j)})):Promise.resolve([])},Nt="https://kenkoooo.com/atcoder/internal-api",Pt="".concat(Nt,"/user/get"),At="".concat(Nt,"/user/update"),Rt=function(e){return"".concat(Nt,"/contest/get/").concat(e)},Dt="".concat(Nt,"/contest/my"),Tt="".concat(Nt,"/contest/update"),Lt="".concat(Nt,"/contest/join"),Bt="".concat(Nt,"/contest/leave"),Ut="".concat(Nt,"/contest/joined"),Gt="".concat(Nt,"/contest/create"),Ht="".concat(Nt,"/contest/recent"),zt="".concat(Nt,"/contest/item/update"),Wt="".concat(Nt,"/list/my"),Jt="".concat(Nt,"/list/create"),Yt="".concat(Nt,"/list/delete"),qt="".concat(Nt,"/list/update"),Kt="".concat(Nt,"/list/item/update"),Vt="".concat(Nt,"/list/item/delete"),Zt="".concat(Nt,"/list/item/add"),$t=function(e){return"".concat(Nt,"/list/get/").concat(e)},Qt="".concat(Nt,"/progress_reset/list"),Xt="".concat(Nt,"/progress_reset/add"),en="".concat(Nt,"/progress_reset/delete"),tn=function(e){switch(e){case"lockout":return"Lockout";case"training":return"Training";case null:return"Normal"}},nn=function(e){switch(e){case!0:return"Public";case!1:return"Private"}},an=function(e,t,n){return e.filter((function(e){var a,r;if(e.user_id!==n)return!0;var l=null!==(a=null===(r=t.items.find((function(t){return t.problem_id===e.problem_id})))||void 0===r?void 0:r.reset_epoch_second)&&void 0!==a?a:0;return e.epoch_second>l}))},rn=function(e){return"".concat("https://atcoder.jp","/contests/").concat(e)},ln=function(e,t){return"".concat(rn(t),"/submissions/").concat(e)},on=function(e,t){return"".concat(rn(t),"/tasks/").concat(e)},cn=function(e){return"https://atcoder.jp/users/".concat(e)},un="https://github.com/login/oauth/authorize?client_id=162a5276634fc8b970f7",sn=["ABC","ARC","AGC","ABC-Like","ARC-Like","AGC-Like","PAST","JOI","JAG","Marathon","Other Contests"],mn=function(e){return"-"!==e.rate_change&&e.start_epoch_second>=1468670400},dn=function(e){return/^abc\d{3}$/.exec(e.id)?"ABC":/^arc\d{3}$/.exec(e.id)?"ARC":/^agc\d{3}$/.exec(e.id)?"AGC":mn(e)?function(e){var t=pn(e);return t===ht.All?"AGC-Like":t<2e3?"ABC-Like":"ARC-Like"}(e):e.id.startsWith("past")?"PAST":e.id.startsWith("joi")?"JOI":/^(jag|JAG)/.exec(e.id)?"JAG":/(^Chokudai Contest|\u30cf\u30fc\u30d5\u30de\u30e9\u30bd\u30f3|^HACK TO THE FUTURE|Asprova|Heuristics Contest)/.exec(e.title)||/(^future-meets-you-contest|^hokudai-hitachi)/.exec(e.id)||["caddi2019","pakencamp-2019-day2","kuronekoyamato-contest2019","wn2017_1"].includes(e.id)?"Marathon":"Other Contests"},fn=function(e){return r.a.createElement("a",{href:e.href,target:"_blank",rel:"noopener",className:e.className},e.children)};function pn(e){if(1468670400>e.start_epoch_second)return ht.Unrated;switch(e.rate_change){case void 0:case"-":return ht.Unrated;case"All":return ht.All;default:var t=e.rate_change.split("~").map((function(e){return e.trim()}));if(2!==t.length)return ht.Unrated;var n=parseInt(t[1]);return n||(parseInt(t[0])?ht.All:ht.Unrated)}}function bn(e){return e===ht.All?"difficulty-red":e===ht.Unrated?"":$(e)}!function(e){e[e.All=0]="All",e[e.Unrated=1]="Unrated"}(ht||(ht={}));var hn,En,vn=function(e){var t=e.contest,n=e.title,a=pn(t);return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:bn(a)},"\u25c9")," ",r.a.createElement(fn,{href:rn(t.id)},void 0!==n?n:t.title))},gn=function(e){var t=Object(a.useState)(!1),n=Object(b.a)(t,2),l=n[0],o=n[1],c=e.contestId,i=e.problemId,u=e.problemTitle,s=e.showDifficulty,m=e.isExperimentalDifficulty,d=e.showDifficultyUnavailable,f=e.problemModel,p=e.userRatingInfo,h=r.a.createElement(fn,{href:on(i,c),className:e.className},u),E=null===f||void 0===f?void 0:f.difficulty;if(!s||void 0===f||void 0===E&&!d)return h;var v=i+"-"+c,g="experimental-"+v,y=void 0===E?void 0:$(E);return r.a.createElement(r.a.Fragment,null,r.a.createElement(bt,{id:v,problemModel:f,userRatingInfo:p}),m?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{id:g,role:"img","aria-label":"experimental"},"\ud83e\uddea"),r.a.createElement(at.a,{placement:"top",target:g,isOpen:l,toggle:function(){return o(!l)}},"This estimate is experimental.")):null,r.a.createElement("a",{href:on(i,c),target:"_blank",rel:"noopener",className:y},u))};!function(e){e.None="None",e.ContestResult="ContestResult",e.Language="Language"}(hn||(hn={})),function(e){e.None="",e.Success="table-success",e.Danger="table-danger",e.Warning="table-warning",e.SuccessBeforeContest="table-success-before-contest",e.SuccessIntime="table-success-intime",e.WarningIntime="table-warning-intime",e.SuccessLanguage="table-success-language"}(En||(En={}));var yn=s.d.of(En.Success,En.SuccessBeforeContest,En.SuccessIntime,En.SuccessLanguage),_n=function(e){switch(e){case pt.Success:return En.Success;case pt.Failed:return En.Danger;case pt.Warning:return En.Warning;case pt.None:default:return En.None}},Sn=function(e){var t=e.colorMode,n=e.status,a=e.contest,r=e.selectedLanguages;switch(t){case hn.None:return _n(n.label);case hn.ContestResult:return a?n.label===pt.Success&&void 0!==n.epoch&&n.epoch<=a.start_epoch_second+a.duration_second?n.epoch<a.start_epoch_second?En.SuccessBeforeContest:En.SuccessIntime:n.label===pt.Warning&&n.epoch<=a.start_epoch_second+a.duration_second?En.WarningIntime:_n(n.label):_n(n.label);case hn.Language:return n.label===pt.Success&&r&&Array.from(n.solvedLanguages).some((function(e){return r.has(e)}))?En.SuccessLanguage:_n(n.label)}},Cn=n(521),kn=function(e,t,n){if(0===n)return[];if(n<=10)return a=1,r=n,Array.from({length:r-a+1},(function(e,t){return t+a}));for(var a,r,l=[e],o=1;;){var c=e-(o*=2)+1;if(c<t)break;l.unshift(c)}for(l[0]!==t&&l.unshift(t),o=1;;){var i=e+(o*=2)-1;if(i>n)break;l.push(i)}return l.slice(-1)[0]!==n&&l.push(n),l},On=function(e){var t=kn(e.currPage,e.pageStartIndex,e.totalPages);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-md-2 col-xs-2 col-sm-2 col-lg-2"},r.a.createElement(Xe.a,{className:"react-bs-table-sizePerPage-dropdown"},r.a.createElement(Ze.a,{caret:!0},e.sizePerPage),r.a.createElement($e.a,null,e.sizePerPageList.map((function(t){return r.a.createElement(Qe.a,{key:t.text,onClick:function(){return e.changeSizePerPage(t.value)}},t.text)}))))),r.a.createElement("div",{className:"col-md-10 col-xs-10 col-sm-10 col-lg-10",style:{display:"block"}},r.a.createElement("ul",{className:"react-bootstrap-table-page-btns-ul pagination",style:{flexWrap:"wrap",justifyContent:"flex-end"}},t.map((function(t){var n=(t===e.currPage?"active ":"")+"page-item";return r.a.createElement("li",{className:n,key:t,title:t.toString()},r.a.createElement(Cn.a,{onClick:function(){return e.changePage(t)}},t))})))))},jn=["All","Only Trying","Only AC","AC during Contest","AC after Contest"],wn=function(e){var t,n,a=null!==(t=null===(n=e.userRatingInfo)||void 0===n?void 0:n.internalRating)&&void 0!==t?t:null,l=function(e){var t=e.problemModel;return void 0===t?-1:S(t)?t.difficulty:-1},o=function(e){if(null===a)return null;var t=e.problemModel;return void 0===t?null:C(t)?lt(t,a):null},c=function(e){if(null===a)return null;var t=e.problemModel;return void 0===t?null:S(t)?rt(t,a):null},i=[{header:"Date",dataField:"contestDate",dataSort:!0},{header:"Problem",dataField:"title",dataSort:!0,dataFormat:function(t,n){var a;return r.a.createElement(gn,{showDifficulty:!0,isExperimentalDifficulty:null===(a=n.problemModel)||void 0===a?void 0:a.is_experimental,problemId:n.mergedProblem.id,problemTitle:n.title,contestId:n.mergedProblem.contest_id,problemModel:n.problemModel,userRatingInfo:e.userRatingInfo})}},{header:"Contest",dataField:"contest",dataSort:!0,dataFormat:function(e,t){return e?r.a.createElement(vn,{contest:e}):r.a.createElement("a",{href:rn(t.mergedProblem.contest_id),target:"_blank",rel:"noopener noreferrer"},t.contestTitle)}},{header:"Result",dataField:"a",dataAlign:"center",dataFormat:function(e,t){var n=t.status;switch(n.label){case pt.Success:return r.a.createElement(nt.a,{color:"success"},"AC");case pt.Failed:return r.a.createElement("div",null,Array.from(n.solvedRivals).map((function(e){return r.a.createElement(nt.a,{key:e,color:"danger"},e)})));case pt.Warning:return r.a.createElement(nt.a,{color:"warning"},n.result);case pt.None:return""}}},{header:"Last AC Date",dataField:"lastAcceptedDate",dataSort:!0},{header:"Solvers",dataField:"solverCount",dataSort:!0,dataFormat:function(e,t){return r.a.createElement("a",{href:(n=t.mergedProblem.contest_id,a=t.mergedProblem.id,"".concat(rn(n),"/submissions?f.Task=").concat(a,"&f.Status=AC")),target:"_blank",rel:"noopener noreferrer"},e);var n,a}},{header:"Point",dataField:"point",dataSort:!0,dataFormat:function(e){return e>=Pn?r.a.createElement("p",null,"-"):e%100===0?r.a.createElement("p",null,e):r.a.createElement("p",null,e.toFixed(2))}},{header:"Difficulty",dataField:"problemModel",dataSort:!0,sortFunc:function(e,t,n){return(l(e)-l(t))*("asc"===n?1:-1)},dataFormat:function(e){return S(e)?r.a.createElement("p",null,e.difficulty):r.a.createElement("p",null,"-")}},{header:"Solve Prob",dataField:"prob",dataSort:!0,sortFunc:function(e,t,n){var a=c(e),r=c(t);return((null===a?-1:a)-(null===r?-1:r))*("asc"===n?1:-1)},dataFormat:function(e,t){var n=c(t);return null===n?r.a.createElement("p",null,"-"):r.a.createElement("p",null,ct(n))}},{header:"Time",dataField:"a",dataSort:!0,sortFunc:function(e,t,n){var a=o(e),r=o(t);return((null===a?-1:a)-(null===r?-1:r))*("asc"===n?1:-1)},dataFormat:function(e,t){var n=o(t);return null===n?r.a.createElement("p",null,"-"):r.a.createElement("p",null,ot(n))}},{header:"Fastest",dataField:"executionTime",dataSort:!0,dataFormat:function(e,t){var n=t.mergedProblem,a=n.fastest_submission_id,l=n.fastest_contest_id,o=n.fastest_user_id;return a&&l&&o?r.a.createElement("a",{href:ln(a,l),target:"_blank",rel:"noopener noreferrer"},o," (",e," ms)"):r.a.createElement("p",null)}},{header:"Shortest",dataField:"codeLength",dataSort:!0,dataFormat:function(e,t){var n=t.mergedProblem,a=n.shortest_submission_id,l=n.shortest_contest_id,o=n.shortest_user_id;return l&&a&&o?r.a.createElement("a",{href:ln(a,l),target:"_blank",rel:"noopener noreferrer"},o," (",e," Bytes)"):r.a.createElement("p",null)}},{header:"First",dataField:"firstUserId",dataSort:!0,dataFormat:function(e,t){var n=t.mergedProblem,a=n.first_submission_id,l=n.first_contest_id,o=n.first_user_id;return a&&l&&o?r.a.createElement("a",{href:ln(a,l),target:"_blank",rel:"noopener noreferrer"},o):r.a.createElement("p",null)}},{header:"Shortest User for Search",dataField:"shortestUserId",hidden:!0},{header:"Fastest User for Search",dataField:"fastestUserId",hidden:!0},{header:"Contest name for Search",dataField:"contestTitle",hidden:!0}];return r.a.createElement(f.BootstrapTable,{pagination:!0,keyField:"id",height:"auto",hover:!0,striped:!0,search:!0,tableContainerClass:"list-table",trClassName:function(e){var t=e.status,n=e.contest;return Sn({colorMode:hn.ContestResult,status:t,contest:n})},data:e.rowData.filter((function(t){return e.fromPoint<=t.point&&t.point<=e.toPoint})).filter((function(t){var n=t.status,a=t.contest,r=n.label===pt.Success,l=n.label===pt.Success&&void 0!==a&&n.epoch<=a.start_epoch_second+a.duration_second;switch(e.statusFilterState){case"All":return!0;case"Only AC":return r;case"Only Trying":return!r;case"AC during Contest":return r&&l;case"AC after Contest":return r&&!l}})).filter((function(t){var n=!!t.mergedProblem.point,a=S(t.problemModel);switch(e.ratedFilterState){case"All":return!0;case"Only Rated":return n;case"Only Unrated":return!n;case"Only Unrated without Difficulty":return!n&&!a}})).filter((function(t){var n=S(t.problemModel)?t.problemModel.difficulty:-1;return e.fromDifficulty<=n&&n<=e.toDifficulty})).toArray(),options:{paginationPosition:"top",sizePerPage:20,sizePerPageList:[{text:"20",value:20},{text:"50",value:50},{text:"100",value:100},{text:"200",value:200},{text:"All",value:e.rowData.size}],paginationPanel:function(e){return r.a.createElement(On,e)}}},i.map((function(e){return r.a.createElement(f.TableHeaderColumn,Object.assign({key:e.header,tdAttr:{"data-col-name":e.header}},e),e.header)})))},xn=n(99),In=n.n(xn),Fn=function(e,t,n){var a=t.get(e.id);if(void 0!==a&&(!a.is_experimental||n))return void 0===a.difficulty?void 0:Math.floor(Math.min(4e3,a.difficulty)/400)},Mn=function(e){var t=e.submissions,n=e.mergedProblems,l=e.problemModels,o=e.setFilterFunc,c=Object(a.useState)(!0),i=Object(b.a)(c,2),u=i[0],m=i[1],d=Object(s.c)(0,4400,400).map((function(e){return{from:e,to:4e3===e?1e18:e+400-1}})).toList(),f=t.filter((function(e){return W(e.result)})).reduce((function(e,t){var n,a=null!==(n=e.get(t.user_id))&&void 0!==n?n:new Set;return a.add(t.problem_id),e.set(t.user_id,a),e}),new Map),p=Array.from(f.keys()).map((function(e){var t;return{userId:e,diffCount:Array.from(null!==(t=f.get(e))&&void 0!==t?t:new Set).map((function(e){return n.get(e)})).map((function(e){return e?Fn(e,l,u):void 0})).reduce((function(e,t){if(void 0!==t){var n,a=null!==(n=e.get(t))&&void 0!==n?n:0;e.set(t,a+1)}return e}),new Map)}})),h=n.map((function(e){return Fn(e,l,u)})).filter((function(e){return void 0!==e})).reduce((function(e,t){return e.update(t,0,(function(e){return e+1}))}),Object(s.b)()).entrySeq().map((function(e){var t=Object(b.a)(e,2);return{difficultyLevel:t[0],count:t[1]}})).sort((function(e,t){return e.difficultyLevel-t.difficultyLevel}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(ze.a,{className:"mb-2"},r.a.createElement(We.a,{onClick:function(){return m(!u)}},u?"Including \ud83e\uddea":"Excluding \ud83e\uddea")),r.a.createElement(In.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Difficulty"),h.map((function(e){var t=e.difficultyLevel;return r.a.createElement("th",{key:t,style:{whiteSpace:"nowrap"}},r.a.createElement("a",{href:window.location.hash,onClick:function(){return o(d.get(t,{from:0}).from,d.get(t,{to:1e18}).to)}},r.a.createElement(bt,{problemModel:{slope:void 0,difficulty:d.get(t,{from:1e18}).from+399,rawDifficulty:void 0,intercept:void 0,discrimination:void 0,is_experimental:!1,variance:void 0},id:"difficulty-table-level-".concat(t)}),d.get(t,{from:0}).from,"-"))}))),r.a.createElement("tr",null,r.a.createElement("th",null,"Total"),h.map((function(e){var t=e.difficultyLevel,n=e.count;return r.a.createElement("th",{key:t},n)})))),r.a.createElement("tbody",null,p.map((function(e){var t=e.userId,n=e.diffCount;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t),h.map((function(e){var t,a=e.difficultyLevel,l=e.count;return r.a.createElement("td",{key:a,className:n.get(a)===l?En.Success:En.None},null!==(t=n.get(a))&&void 0!==t?t:0)})))})))))},Nn=function(e){var t=e.submissions,n=e.mergedProblems,a=e.setFilterFunc,l=new Map;t.filter((function(e){return W(e.result)})).forEach((function(e){var t,n=null!==(t=l.get(e.user_id))&&void 0!==t?t:new Set;n.add(e.problem_id),l.set(e.user_id,n)}));var o=Array.from(l.keys()).map((function(e){var t,a=null!==(t=l.get(e))&&void 0!==t?t:new Set,r=new Map;return Array.from(a).forEach((function(e){var t,a=null===(t=n.get(e))||void 0===t?void 0:t.point;if(a){var l,o=null!==(l=r.get(a))&&void 0!==l?l:0;r.set(a,o+1)}})),{userId:e,pointCountMap:r}})),c=n.reduce((function(e,t){return t.point?e.update(t.point,0,(function(e){return e+1})):e}),Object(s.b)()).entrySeq().map((function(e){var t=Object(b.a)(e,2);return{point:t[0],count:t[1]}})).sort((function(e,t){return e.point-t.point}));return r.a.createElement(In.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Point"),c.map((function(e){var t=e.point;return r.a.createElement("th",{key:t},r.a.createElement("a",{href:window.location.hash,onClick:function(){return a(t)}},t))}))),r.a.createElement("tr",null,r.a.createElement("th",null,"Total"),c.map((function(e){var t=e.point,n=e.count;return r.a.createElement("th",{key:t},n)})))),r.a.createElement("tbody",null,o.map((function(e){var t=e.userId,n=e.pointCountMap;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t),c.map((function(e){var t,a=e.point,l=e.count;return r.a.createElement("td",{key:a,className:n.get(a)===l?En.Success:En.None},null!==(t=n.get(a))&&void 0!==t?t:0)})))}))))},Pn=1e18,An=["All","Only Rated","Only Unrated","Only Unrated without Difficulty"],Rn="fromPo",Dn="toPo",Tn="status",Ln="rated",Bn="fromDiff",Un="toDiff",Gn=Object(m.connect)((function(e){return{submissionsFetch:{comparison:[e.userId,e.rivals],value:function(){return Promise.all(e.rivals.push(e.userId).map((function(e){return Mt(e)}))).then((function(e){return e.flatMap((function(e){return e}))}))}},mergedProblemsFetch:{comparison:null,value:function(){return ge()}},problemModelsFetch:{comparison:null,value:function(){return ye()}},contestsFetch:{comparison:null,value:function(){return _e()}},userRatingInfoFetch:{comparison:e.userId,value:function(){return De(e.userId)}},loginState:Pt,progressResetList:Qt}}))((function(e){var t=Object(i.h)(),n=Object(i.g)(),a=new URLSearchParams(t.search),l=parseInt(a.get(Rn)||"0",10),o=parseInt(a.get(Dn)||Pn.toString(),10),u=function(e){var t,n=Object(Ke.a)(jn);try{for(n.s();!(t=n.n()).done;){if(e===t.value)return e}}catch(a){n.e(a)}finally{n.f()}return"All"}(a.get(Tn)),m=function(e){var t,n=Object(Ke.a)(An);try{for(n.s();!(t=n.n()).done;){if(e===t.value)return e}}catch(a){n.e(a)}finally{n.f()}return"All"}(a.get(Ln)),f=parseInt(a.get(Bn)||"-1",10),p=parseInt(a.get(Un)||Pn.toString(),10),b=e.mergedProblemsFetch,h=e.problemModelsFetch,E=e.submissionsFetch,v=e.contestsFetch,y=e.userRatingInfoFetch,_=b.fulfilled?b.value:Object(s.b)(),S=v.fulfilled?v.value:Object(s.b)(),C=h.fulfilled?h.value:Object(s.b)(),k=E.fulfilled?E.value:[],O=e.loginState.fulfilled&&e.loginState.value&&e.loginState.value.atcoder_user_id?e.loginState.value.atcoder_user_id:void 0,j=e.progressResetList.fulfilled&&e.progressResetList.value?e.progressResetList.value:void 0,w=j&&O?an(k,j,O):k,x=vt(w,e.userId),I=y.fulfilled?y.value:null,F=_.valueSeq().map((function(e){var t,n,a=S.get(e.contest_id),r=a?Ct(_t(a.start_epoch_second)):"",l=a?a.title:"",o=null!==(t=x.get(e.id))&&void 0!==t?t:Et(),c=o.label===pt.Success?Ct(_t(o.lastAcceptedEpochSecond)):"",i=null!==(n=e.point)&&void 0!==n?n:Pn,u=e.first_user_id?e.first_user_id:"",s=null!=e.execution_time?e.execution_time:Pn,m=e.source_code_length?e.source_code_length:Pn,d=e.shortest_user_id?e.shortest_user_id:"",f=e.fastest_user_id?e.fastest_user_id:"",p=C.get(e.id);return{id:e.id,title:e.title,contest:a,contestDate:r,contestTitle:l,lastAcceptedDate:c,solverCount:e.solver_count?e.solver_count:0,point:i,problemModel:p,firstUserId:u,executionTime:s,codeLength:m,mergedProblem:e,shortestUserId:d,fastestUserId:f,status:o}})).sort((function(e,t){var n=t.contestDate.localeCompare(e.contestDate);return 0===n?e.title.localeCompare(t.title):n})).toList(),M=_.valueSeq().map((function(e){return e.point})).reduce((function(e,t){return t?e.add(t):e}),Object(s.d)()).toList().sort(),N=Object(s.c)(0,4400,400).map((function(e){return{from:e,to:4e3===e?Pn:e+399}})).toList();return r.a.createElement("div",null,r.a.createElement(d.a,{className:"my-2 border-bottom"},r.a.createElement("h1",null,"Point Status")),r.a.createElement(d.a,null,r.a.createElement(Nn,{mergedProblems:_,submissions:w,setFilterFunc:function(e){var a=new URLSearchParams(t.search);a.set(Rn,e.toString()),a.set(Dn,e.toString()),n.push(Object(g.a)(Object(g.a)({},t),{},{search:a.toString()}))}})),r.a.createElement(d.a,{className:"my-2 border-bottom"},r.a.createElement("h1",null,"Difficulty Status")),r.a.createElement(d.a,null,r.a.createElement(Mn,{mergedProblems:_,submissions:w,problemModels:C,setFilterFunc:function(e,a){var r=new URLSearchParams(t.search);r.set(Bn,e.toString()),r.set(Un,a.toString()),n.push(Object(g.a)(Object(g.a)({},t),{},{search:r.toString()}))}})),r.a.createElement(d.a,{className:"my-2 border-bottom"},r.a.createElement("h1",null,"Problem List")),r.a.createElement(d.a,null,r.a.createElement(tt.a,{className:"mr-4"},r.a.createElement(Ve.a,null,r.a.createElement(Ze.a,{caret:!0},0===l?"Point From":l),r.a.createElement($e.a,null,M.map((function(e){return r.a.createElement(Qe.a,{key:e,tag:c.b,to:It(t,{[Rn]:e.toString()})},e)})))),r.a.createElement(Ve.a,null,r.a.createElement(Ze.a,{caret:!0},o===Pn?"Point To":o),r.a.createElement($e.a,null,M.map((function(e){return r.a.createElement(Qe.a,{key:e,tag:c.b,to:It(t,{[Dn]:e.toString()})},e)}))))),r.a.createElement(tt.a,{className:"mr-4"},r.a.createElement(Xe.a,null,r.a.createElement(Ze.a,{caret:!0},u),r.a.createElement($e.a,null,jn.map((function(e){return r.a.createElement(Qe.a,{key:e,tag:c.b,to:It(t,{[Tn]:e})},e)}))))),r.a.createElement(tt.a,{className:"mr-4"},r.a.createElement(Xe.a,null,r.a.createElement(Ze.a,{caret:!0},m),r.a.createElement($e.a,null,An.map((function(e){return r.a.createElement(Qe.a,{key:e,tag:c.b,to:It(t,{[Ln]:e})},e)}))))),r.a.createElement(tt.a,{className:"mr-4"},r.a.createElement(Ve.a,null,r.a.createElement(Ze.a,{caret:!0},-1===f?"Difficulty From":"".concat(f," - ")),r.a.createElement($e.a,null,N.map((function(e){var n=e.from,a=e.to;return r.a.createElement(Qe.a,{key:n,tag:c.b,to:It(t,{[Bn]:n.toString()})},r.a.createElement(bt,{problemModel:{slope:void 0,difficulty:a,rawDifficulty:void 0,intercept:void 0,discrimination:void 0,is_experimental:!1,variance:void 0},id:"from-difficulty-dropdown-".concat(a)}),n," -")})))),r.a.createElement(Ve.a,null,r.a.createElement(Ze.a,{caret:!0},p===Pn?"Difficulty To":" - ".concat(p)),r.a.createElement($e.a,null,N.map((function(e){var n=e.to;return r.a.createElement(Qe.a,{key:n,tag:c.b,to:It(t,{[Bn]:-1!==f?f.toString():"0",[Un]:n.toString()})},r.a.createElement(bt,{problemModel:{slope:void 0,difficulty:n,rawDifficulty:void 0,intercept:void 0,discrimination:void 0,is_experimental:!1,variance:void 0},id:"from-difficulty-dropdown-".concat(n)}),"- ",n<Pn?n:"inf")}))))),r.a.createElement(We.a,{outline:!0,color:"danger",onClick:function(){return n.push(Object(g.a)(Object(g.a)({},t),{},{search:""}))}},"Reset")),r.a.createElement(d.a,{className:"mt-3"},r.a.createElement(wn,{fromPoint:l,toPoint:o,statusFilterState:u,ratedFilterState:m,fromDifficulty:f,toDifficulty:p,rowData:F,userRatingInfo:I})))})),Hn=n(528),zn=n(529),Wn=n(530),Jn=n(531),Yn=n(532),qn=function(e){var t=e.submissions,n=e.problems,a=e.problemModels,l=e.userRatingInfo,o=n.reduce((function(e,t){return e.set(t.id,t.title),e}),new Map),c=Array.from(t.reduce((function(e,t){return e.add(t.result),e}),new Set)).sort().reduce((function(e,t){return e[t]=t,e}),{}),i=Array.from(t.reduce((function(e,t){return e.add(t.language),e}),new Set)).sort().reduce((function(e,t){return e[t]=t,e}),{});return r.a.createElement(f.BootstrapTable,{data:t.sort((function(e,t){return t.epoch_second-e.epoch_second})).map((function(e){return Object(g.a)({title:o.get(e.problem_id)},e)})),keyField:"id",height:"auto",hover:!0,striped:!0,search:!0,pagination:!0,options:{paginationPosition:"top",sizePerPage:20,sizePerPageList:[{text:"20",value:20},{text:"50",value:50},{text:"100",value:100},{text:"200",value:200},{text:"All",value:t.length}],paginationPanel:function(e){return r.a.createElement(On,e)}}},r.a.createElement(f.TableHeaderColumn,{dataSort:!0,dataField:"epoch_second",dataFormat:function(e){return kt(_t(e))}},"Date"),r.a.createElement(f.TableHeaderColumn,{filterFormatted:!0,dataSort:!0,dataField:"title",dataFormat:function(e,t){var n,o,c=t.problem_id,i=t.contest_id;return r.a.createElement(gn,{isExperimentalDifficulty:null===(n=a.get(c))||void 0===n?void 0:n.is_experimental,showDifficulty:!0,problemId:c,problemTitle:e||"",contestId:i,problemModel:null!==(o=a.get(c))&&void 0!==o?o:null,userRatingInfo:l})}},"Problem"),r.a.createElement(f.TableHeaderColumn,{dataSort:!0,dataField:"user_id",dataFormat:function(e){return r.a.createElement(fn,{href:cn(e)},e)}},"User"),r.a.createElement(f.TableHeaderColumn,{dataSort:!0,filter:{type:"SelectFilter",options:c},dataField:"result",dataAlign:"center",dataFormat:function(e){return W(e)?r.a.createElement(nt.a,{color:"success"},e):r.a.createElement(nt.a,{color:"warning"},e)}},"Status"),r.a.createElement(f.TableHeaderColumn,{dataSort:!0,dataField:"language",filter:{type:"SelectFilter",options:i}},"Language"),r.a.createElement(f.TableHeaderColumn,{dataSort:!0,dataField:"id",dataFormat:function(e,t){var n=t.id,a=t.contest_id;return r.a.createElement(fn,{href:ln(n,a)},"Detail")}},"Detail"),r.a.createElement(f.TableHeaderColumn,{dataField:"title",hidden:!0}))};function Kn(e){return e.entrySeq().reduce((function(e,t){var n=Object(b.a)(t,2),a=n[0],r=n[1];return e.set(a,r),e}),new Map)}var Vn,Zn=function(e){return e.map((function(e){return e.dateLabel})).reduce((function(e,t){var n=t===Ct(St(e.prevDateLabel).add(1,"day"))?e.currentStreak+1:1;return{longestStreak:Math.max(e.longestStreak,n),currentStreak:n,prevDateLabel:t}}),{longestStreak:0,currentStreak:0,prevDateLabel:""})},$n=function(e){var t=new Map;e.filter((function(e){return W(e.result)})).forEach((function(e){var n=t.get(e.problem_id);n?n.id>e.id&&t.set(e.problem_id,e):t.set(e.problem_id,e)}));var n=Array.from(t).map((function(e){var t=Object(b.a)(e,2)[1];return Ct(_t(t.epoch_second))})).reduce((function(e,t){var n,a=null!==(n=e.get(t))&&void 0!==n?n:0;return e.set(t,a+1),e}),new Map);return Array.from(n).map((function(e){var t=Object(b.a)(e,2);return{dateLabel:t[0],count:t[1]}})).sort((function(e,t){return e.dateLabel.localeCompare(t.dateLabel)}))},Qn=Object(m.connect)((function(e){var t=e.userId;return{userRatingInfoFetch:{comparison:t,value:function(){return De(t)}}}}))((function(e){var t=e.userId,n=e.userRatingInfoFetch,l=n.fulfilled?n.value.rating:0,o=l<3200?Z(l):l<3600?"Silver":"Gold",c="RatingCircle-"+t,i=Object(a.useState)(!1),u=Object(b.a)(i,2),s=u[0],m=u[1];return r.a.createElement("span",{className:"".concat($(l)," text-nowrap")},r.a.createElement(ft,{className:"rating-circle",id:c,color:o,rating:l,big:e.big}),r.a.createElement(at.a,{placement:"top",target:c,isOpen:s,toggle:function(){return m(!s)}},"Rating: ".concat(l)),"\xa0",r.a.createElement(fn,{href:cn(t),className:$(l)},t))})),Xn=function(e){var t=e.showRating?r.a.createElement(Qn,e):r.a.createElement(fn,{href:cn(e.userId)},e.userId);return e.big?r.a.createElement("h1",null,t):t},ea=n(17),ta=function(e){var t=e.cx,n=e.cy,a=e.innerRadius,l=e.outerRadius,o=e.startAngle,c=e.endAngle,i=e.fill,u=e.payload,s=e.value,m=e.percent;return r.a.createElement("g",{className:"pie-chart-summary"},r.a.createElement(ea.m,{cx:t,cy:n,innerRadius:a,outerRadius:l,startAngle:o,endAngle:c,fill:i}),r.a.createElement(ea.m,{cx:t,cy:n,startAngle:o,endAngle:c,innerRadius:l+2,outerRadius:l+4,fill:i}),r.a.createElement("text",{x:t,y:n},"".concat(u.name," : ").concat(s)),r.a.createElement("text",{x:t,y:n,dy:17},"".concat((100*m).toFixed(1),"%")))},na=function(e){var t=e.data,n=e.hideLegend,l=Object(a.useState)(0),o=Object(b.a)(l,2),c=o[0],i=o[1];return r.a.createElement("div",null,r.a.createElement(ea.l,{width:"100%",height:300},r.a.createElement(ea.k,null,r.a.createElement(ea.j,{activeIndex:c,activeShape:ta,dataKey:"value",data:t,innerRadius:"60%",outerRadius:"80%",fill:"#ff0000",onMouseEnter:function(e,t){i(t)},onMouseLeave:function(){i(0)}},t.map((function(e){return r.a.createElement(ea.f,{key:e.name,fill:e.color})}))),!n&&r.a.createElement(ea.g,null))))},aa="#32cd32",ra="#58616a",la="#fd9",oa=function(e){var t=e.title,n=e.trying,a=e.rejected,l=e.accepted,o=[{value:l,color:aa,name:"AC"},{value:a,color:la,name:"Non-AC"},{value:n,color:ra,name:"NoSub"}],c=n+a+l;return r.a.createElement("div",null,r.a.createElement(na,{data:o,hideLegend:!0}),r.a.createElement("h5",null,t),r.a.createElement("h5",{className:"text-muted"},"".concat(l," / ").concat(c)))};!function(e){e[e.TRYING=0]="TRYING",e[e.REJECTED=1]="REJECTED",e[e.ACCEPTED=2]="ACCEPTED"}(Vn||(Vn={}));var ca=function(e,t,n){var a=function(e,t){var n=e.substring(0,3),a=t.substring(0,3),r="abc"===n&&"arc"===a;switch(t.substring(7,8)){case"1":case"a":return r?2:0;case"2":case"b":return r?3:1;case"3":case"c":return 2;case"4":case"d":return 3;case"e":return 4;case"f":return 5;default:return console.error("Unsupported problemId: ".concat(e,"/").concat(t)),0}},r=e.map((function(e){var a=Object(b.a)(e,2);return{contestId:a[0],idStatus:a[1].map((function(e){var a,r=null===(a=t.get(e.id))||void 0===a?void 0:a.filter((function(e){return e.user_id===n&&J(e.result)})),l=r?(null===r||void 0===r?void 0:r.find((function(e){return W(e.result)})))?Vn.ACCEPTED:Vn.REJECTED:Vn.TRYING;return{id:e.id,status:l}}))}})).map((function(e){var t=e.contestId;return e.idStatus.map((function(e){var n=e.id,r=e.status;return{position:a(t,n),status:r}}))})).flatMap((function(e){return e})).reduce((function(e,t){var n=t.position;return e[t.status][n]+=1,e}),{[Vn.TRYING]:[0,0,0,0,0,0],[Vn.REJECTED]:[0,0,0,0,0,0],[Vn.ACCEPTED]:[0,0,0,0,0,0]});return e.map((function(e){var t=Object(b.a)(e,2);return{contestId:t[0],problemIds:t[1].map((function(e){return e.id}))}})).map((function(e){var t=e.problemIds,n=e.contestId;return t.map((function(e){return a(n,e)}))})).flatMap((function(e){return e})).reduce((function(e,t){return e[t]+=1,e}),[0,0,0,0,0,0]).map((function(e,t){return{total:e,rejected:r[Vn.REJECTED][t],solved:r[Vn.ACCEPTED][t]}})).filter((function(e){return e.total>0}))},ia=function(e){var t=e.contestToProblems,n=ca(Array.from(t).filter((function(e){return Object(b.a)(e,1)[0].startsWith("abc")})),e.submissions,e.userId),a=ca(Array.from(t).filter((function(e){return Object(b.a)(e,1)[0].startsWith("arc")})),e.submissions,e.userId),l=ca(Array.from(t).filter((function(e){return Object(b.a)(e,1)[0].startsWith("agc")})),e.submissions,e.userId);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ua,{problems:n,title:"AtCoder Beginner Contest"}),r.a.createElement(ua,{problems:a,title:"AtCoder Regular Contest"}),r.a.createElement(ua,{problems:l,title:"AtCoder Grand Contest"}))},ua=function(e){var t=e.problems,n=e.title;return r.a.createElement("div",null,r.a.createElement(d.a,{className:"my-2 border-bottom"},r.a.createElement("h1",null,n)),r.a.createElement(d.a,{className:"my-3"},t.map((function(e,n){var a=e.solved,l=e.rejected,o=e.total,c="ABCDEF".charAt(n);return r.a.createElement(He.a,{key:c,className:"text-center",xs:"6",md:12/t.length},r.a.createElement(oa,{accepted:a,rejected:l,trying:o-a-l,title:"Problem ".concat(c)}))}))))},sa=n(522),ma=function(e,t){var n=e.sort((function(e,t){return t.problem_count-e.problem_count})).find((function(e){return e.user_id===t}));if(n){var a=n.problem_count;return{rank:e.filter((function(e){return e.problem_count>a})).length,count:a}}return{rank:e.length,count:0}},da=Object(m.connect)((function(e){return{shortestRanking:{comparison:null,value:function(){return Fe().then((function(e){return e.toArray()}))}},fastestRanking:{comparison:null,value:function(){return Me().then((function(e){return e.toArray()}))}},firstRanking:{comparison:null,value:function(){return Ne().then((function(e){return e.toArray()}))}},acRank:{comparison:e.solvedCount,value:function(){return xe().then((function(t){return t.filter((function(t){return t.problem_count>e.solvedCount})).length}))}},sumRank:{comparison:e.ratedPointSum,value:function(){return Ae().then((function(t){return t.filter((function(t){return t.problem_count>e.ratedPointSum})).length}))}},streakRank:{comparison:e.longestStreak,value:function(){return we().then((function(t){return t.filter((function(t){return t.problem_count>e.longestStreak})).length}))}}}}))((function(e){var t=e.longestStreak,n=e.currentStreak,a=e.prevDateLabel,l=e.streakSum,o=e.shortestRanking.fulfilled?e.shortestRanking.value:[],c=e.fastestRanking.fulfilled?e.fastestRanking.value:[],i=e.firstRanking.fulfilled?e.firstRanking.value:[],u=ma(o,e.userId),s=ma(i,e.userId),m=ma(c,e.userId),f=[{key:"Accepted",value:e.solvedCount,rank:e.acRank.fulfilled?e.acRank.value:void 0},{key:"Shortest Code",value:u.count,rank:u.rank},{key:"Fastest Code",value:m.count,rank:m.rank},{key:"First AC",value:s.count,rank:s.rank},{key:"Rated Point Sum",value:e.ratedPointSum,rank:e.sumRank.fulfilled?e.sumRank.value:void 0}],p=a>=Ct(jt().add(-1,"day")),b=e.streakRank.fulfilled?e.streakRank.value:void 0;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:"my-2 border-bottom"},r.a.createElement("h1",null,"Achievement")),r.a.createElement(d.a,{className:"my-3"},f.map((function(e){var t=e.key,n=e.value,a=e.rank;return r.a.createElement(He.a,{key:t,className:"text-center",xs:"6",md:"3"},r.a.createElement("h6",null,t),r.a.createElement("h3",null,n),r.a.createElement("h6",{className:"text-muted"},void 0!==a?"".concat(a+1).concat(q(a+1)):""))})),r.a.createElement(He.a,{key:"Longest Streak",className:"text-center",xs:"6",md:"3"},r.a.createElement("h6",null,"Longest Streak"," ",r.a.createElement(nt.a,{pill:!0,id:"longestStreakTooltip"},"?"),r.a.createElement(sa.a,{target:"longestStreakTooltip",placement:"right"},"The longest streak is based on"," ",r.a.createElement("strong",null,"Japan Standard Time")," (JST, UTC+9).")),r.a.createElement("h3",null,t," days"),r.a.createElement("h6",{className:"text-muted"},void 0!==b?"".concat(b+1).concat(q(b+1)):"")),r.a.createElement(He.a,{key:"Current Streak",className:"text-center",xs:"6",md:"3"},r.a.createElement("h6",null,"Current Streak"," ",r.a.createElement(nt.a,{pill:!0,id:"currentStreakTooltip"},"?"),r.a.createElement(sa.a,{target:"currentStreakTooltip",placement:"right"},"The current streak is based on ",r.a.createElement("strong",null,"Local Time"),".")),r.a.createElement("h3",null,p?n:0," days"),r.a.createElement("h6",{className:"text-muted"},"Last AC: ".concat(a))),r.a.createElement(He.a,{key:"Streak Sum",className:"text-center",xs:"6",md:"3"},r.a.createElement("h6",null,"Streak Sum"),r.a.createElement("h3",null,l," days")),r.a.createElement(He.a,null)))})),fa=n(523),pa=n(524),ba=n(556),ha=function(e){return r.a.createElement(d.a,{className:"my-3"},r.a.createElement(ea.l,{width:"100%",height:300},r.a.createElement(ea.d,{data:e.dailyData,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(ea.e,{strokeDasharray:"3 3"}),r.a.createElement(ea.o,{dataKey:"dateSecond",type:"number",domain:["dataMin","dataMax"],tickFormatter:function(e){return Ct(_t(e))}}),r.a.createElement(ea.p,{domain:[0,e.yRange],allowDataOverflow:!0}),r.a.createElement(ea.n,{labelFormatter:function(e){return"string"===typeof e?e:Ct(_t(e))}}),r.a.createElement(ea.c,{dataKey:"count",fill:"#8884d8"}))))},Ea=function(e){var t=e.active,n=e.payload,a=e.label;if(!t||void 0===n)return null;var l=a;return r.a.createElement("div",{className:"recharts-default-tooltip",style:{margin:"0px",padding:"10px",backgroundColor:"rgb(255, 255, 255)",border:"1px solid rgb(204, 204, 204)",whiteSpace:"nowrap"}},r.a.createElement("p",{className:"recharts-tooltip-label",style:{margin:"0px"}},Ct(_t(l))),r.a.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:"0px",margin:"0px"}},r.a.createElement("li",{className:"recharts-tooltip-item",style:{display:"block",paddingTop:"4px",paddingBottom:"4px",color:"rgb(136, 132, 216)"}},r.a.createElement("span",{className:"recharts-tooltip-item-name"},"count"),r.a.createElement("span",{className:"recharts-tooltip-item-separator"}," : "),r.a.createElement("span",{className:"recharts-tooltip-item-value"},n.reduce((function(e,t){return e+t.value}),0)),r.a.createElement("span",{className:"recharts-tooltip-item-unit"}))),r.a.createElement("hr",{style:{marginTop:"0.3em",marginBottom:"0.3em"}}),r.a.createElement("table",null,r.a.createElement("tbody",null,n.reverse().map((function(e){return e.value<=0?null:r.a.createElement("tr",{style:{color:e.stroke},key:e.dataKey},r.a.createElement("td",{align:"right"},"Black"===e.dataKey?"Other":e.dataKey),r.a.createElement("td",null," : "),r.a.createElement("td",{align:"right"},e.value))})))))},va=function(e){var t=e.dailyColorCount,n=e.yRange,a=t.map((function(e){var t=e.dateSecond,n=e.countMap;return Object(g.a)(Object(g.a)({},ee(n)),{},{dateSecond:t})}));return r.a.createElement(d.a,{className:"my-3"},r.a.createElement(ea.l,{width:"100%",height:300},r.a.createElement(ea.d,{data:a,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(ea.e,{strokeDasharray:"3 3"}),r.a.createElement(ea.o,{dataKey:"dateSecond",type:"number",domain:["dataMin","dataMax"],tickFormatter:function(e){return Ct(_t(e))}}),r.a.createElement(ea.p,{domain:[0,n],allowDataOverflow:!0}),r.a.createElement(ea.n,{content:Ea}),V.map((function(e){var t=Q(e);return r.a.createElement(ea.c,{dataKey:e,key:e,stackId:"1",stroke:t,fill:t})})))))},ga=function(e){return r.a.createElement(d.a,{className:"my-3"},r.a.createElement(ea.l,{width:"100%",height:300},r.a.createElement(ea.i,{data:e.climbingData,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(ea.e,{strokeDasharray:"3 3"}),r.a.createElement(ea.o,{dataKey:"dateSecond",type:"number",domain:["dataMin","dataMax"],tickFormatter:function(e){return Ct(_t(e))}}),r.a.createElement(ea.p,null),r.a.createElement(ea.n,{labelFormatter:function(e){return"number"===typeof e?Ct(_t(e)):e}}),r.a.createElement(ea.h,{dataKey:"count",stroke:"#8884d8"}))))},ya=n(20),_a=function(e){var t=e.colorClimbing,n=e.reverseColorOrder,a=t.map((function(e){var t=e.dateSecond,n=e.countMap;return Object(g.a)(Object(g.a)({},ee(n)),{},{dateSecond:t})}));return r.a.createElement(d.a,{className:"my-3"},r.a.createElement(ea.l,{width:"100%",height:300},r.a.createElement(ea.b,{data:a,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(ea.e,{strokeDasharray:"3 3"}),r.a.createElement(ea.o,{dataKey:"dateSecond",type:"number",domain:["dataMin","dataMax"],tickFormatter:function(e){return Ct(_t(e))}}),r.a.createElement(ea.p,null),r.a.createElement(ea.n,{content:Ea}),(n?Object(ya.a)(V).reverse():V).map((function(e){var t=Q(e);return r.a.createElement(ea.a,{type:"monotone",dataKey:e,key:"".concat(e).concat(n?"_r":""),stackId:"1",stroke:t,fill:t})})))))},Sa=["Mon","Wed","Fri"];function Ca(e){var t=e.tableData,n=16+10*e.columns+5,a=10+10*e.rows;return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("svg",{viewBox:"0 0 ".concat(n," ").concat(a),style:{width:"100%"}},Sa.map((function(e,t){return r.a.createElement("text",{key:e,x:0,y:7+10*(2*t+2),fill:"gray",fontSize:7},e)})),t.map((function(t,n){var a=t.date,l=Math.floor(n/e.rows),o=n%e.rows,c=St(a);return 0===o&&c.date()<=7?r.a.createElement("text",{key:"text-".concat(a),x:16+10*l,y:7,fill:"gray",fontSize:7},c.format("MMM")):null})),t.map((function(t,n){var a=t.date,l=t.value;if(St(a).isAfter())return null;var o=void 0===l?"#ebedf0":e.getColor(a,l),c=Math.floor(n/e.rows),i=n%e.rows;return r.a.createElement("rect",{key:a,id:"rect-".concat(a),x:16+10*c,y:10+10*i,width:9.5,height:9.5,fill:o})}))),t.map((function(t){var n=t.date,a=t.value;return void 0!==a&&r.a.createElement(sa.a,{delay:{show:0,hide:0},key:n,placement:"right",target:"rect-".concat(n)},e.formatTooltip(n,a))})))}var ka=["#ebedf0","#c6e48b","#7bc96f","#239a3b","#196127"],Oa=Object(m.connect)((function(){return{problemModels:{comparison:null,value:function(){return ye().then((function(e){return Kn(e)}))}}}}))((function(e){var t=Object(a.useState)("Submissions"),n=Object(b.a)(t,2),l=n[0],o=n[1],c=e.submissions,i=e.problemModels.fulfilled?e.problemModels.value:new Map,u=function(e,t,n){var a=new Map;e.forEach((function(e){var t,n=Ct(_t(e.epoch_second)),r=null!==(t=a.get(n))&&void 0!==t?t:[];r.push(e),a.set(n,r)}));for(var r=function(e){var t=e.date(),n=e.weekday();return e.date(t+7-n)}(jt()),l=r.date(r.date()-371),o=[],c=0;c<371;c++){var i=Ct(yt()(l).add(c,"day"));if("Max Difficulty"===t){var u,s=(null!==(u=a.get(i))&&void 0!==u?u:[]).map((function(e){var t,a;return null!==(t=null===(a=n.get(e.problem_id))||void 0===a?void 0:a.difficulty)&&void 0!==t?t:-1}));if(s.length>0){var m=s.reduce((function(e,t){return Math.max(e,t)}),-1);o.push({date:i,value:m})}else o.push({date:i})}else{var d,f=null===(d=a.get(i))||void 0===d?void 0:d.length;o.push({date:i,value:f})}}return o}(function(e,t){switch(t){case"Submissions":return e;case"AC":case"Max Difficulty":return e.filter((function(e){return W(e.result)}));case"Unique AC":var n=e.filter((function(e){return W(e.result)})).sort((function(e,t){return t.id-e.id})).reduce((function(e,t){return e.set(t.problem_id,t),e}),new Map);return Array.from(n.values())}}(c,l),l,i),s="Max Difficulty"===l?function(e,t){return"".concat(e," Max Difficulty: ").concat(t>=0?t:"-")}:function(e,t){return function(e,t,n){return"Submissions"===n?1===t?"".concat(e," ").concat(t," submission"):"".concat(e," ").concat(t," submissions"):"".concat(e," ").concat(t," ").concat(n)}(e,t,l)},m="Max Difficulty"===l?function(e,t){return Q(Z(t))}:function(e,t){return ka[Math.min(t,ka.length-1)]};return r.a.createElement("div",null,r.a.createElement(d.a,{className:"my-3"},r.a.createElement(ze.a,{className:"mr-3"},r.a.createElement(We.a,{onClick:function(){return o("Submissions")},active:"Submissions"===l},"All Submissions"),r.a.createElement(We.a,{onClick:function(){return o("AC")},active:"AC"===l},"All AC"),r.a.createElement(We.a,{onClick:function(){return o("Unique AC")},active:"Unique AC"===l},"Unique AC"),r.a.createElement(We.a,{onClick:function(){return o("Max Difficulty")},active:"Max Difficulty"===l},"Max Difficulty"))),r.a.createElement(d.a,{className:"my-5"},r.a.createElement(Ca,{tableData:u,formatTooltip:s,getColor:m,columns:53,rows:7})))})),ja=["Simple","Colored"],wa=function(e){var t=e.active,n=e.setActive;return r.a.createElement(ze.a,{className:"mr-3 table-tab"},ja.map((function(e,a){return r.a.createElement(We.a,{key:a,color:"secondary",onClick:function(){n(e)},active:t===e},e)})))},xa=function(e){var t=e.active,n=e.setActive;return r.a.createElement(ze.a,null,r.a.createElement(Xe.a,null,r.a.createElement(Ze.a,{caret:!0},"Y-Range"),r.a.createElement($e.a,null,[10,20,50,100,"auto"].map((function(e){return r.a.createElement(Qe.a,{key:e,onClick:function(){return n(e)},active:t===e},e)})))))},Ia=function(e){var t=ut("dailyEffortBarChartActiveTab","Simple"),n=Object(b.a)(t,2),a=n[0],l=n[1],o=ut("dailyEffortYRange","auto"),c=Object(b.a)(o,2),i=c[0],u=c[1],s=ut("climbingLineChartActiveTab","Simple"),m=Object(b.a)(s,2),f=m[0],p=m[1],h=ut("climbingLineChartReverseColorOrder",!1),E=Object(b.a)(h,2),v=E[0],g=E[1],y=e.problemModels,_=e.submissions,S=e.userId,C=e.dailyCount,k=e.userSubmissions,O=C.reduce((function(e,t){var n=t.dateLabel,a=t.count,r=St(n).unix(),l=0===e.length?void 0:e[e.length-1];return l?e.push({dateSecond:r,count:l.count+a}):e.push({dateSecond:r,count:a}),e}),[]),j=Array.from(_.values()).map((function(e){return e.filter((function(e){return e.user_id===S&&W(e.result)})).sort((function(e,t){return e.epoch_second-t.epoch_second})).find((function(){return!0}))})).filter((function(e){return void 0!==e})).reduce((function(e,t){var n,a,r=Ct(_t(t.epoch_second)),l=null!==(n=e.get(r))&&void 0!==n?n:new Map(V.map((function(e){return[e,0]}))),o=y.get(t.problem_id),c=void 0!==(null===o||void 0===o?void 0:o.difficulty)?Z(o.difficulty):"Black",i=null!==(a=l.get(c))&&void 0!==a?a:0;return l.set(c,i+1),e.set(r,l),e}),new Map),w=Array.from(j.entries()).map((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return{dateSecond:St(n).unix(),countMap:a}})).sort((function(e,t){return e.dateSecond-t.dateSecond})),x=w.reduce((function(e,t){var n,a,r=t.dateSecond,l=t.countMap,o=0===e.length?void 0:e[e.length-1];return o?e.push({dateSecond:r,countMap:(n=o.countMap,a=l,V.reduce((function(e,t){var r,l;return e.set(t,(null!==(r=n.get(t))&&void 0!==r?r:0)+(null!==(l=a.get(t))&&void 0!==l?l:0)),e}),new Map))}):e.push({dateSecond:r,countMap:l}),e}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:"my-2 border-bottom"},r.a.createElement("h1",null,"Daily Effort")),r.a.createElement(d.a,null,r.a.createElement(wa,{active:a,setActive:l}),r.a.createElement(xa,{active:i,setActive:u})),"Simple"===a?r.a.createElement(ha,{dailyData:C.map((function(e){var t=e.dateLabel,n=e.count;return{dateSecond:St(t).unix(),count:n}})),yRange:i}):r.a.createElement(va,{dailyColorCount:w,yRange:i}),r.a.createElement(d.a,{className:"my-2 border-bottom"},r.a.createElement("h1",null,"Climbing")),r.a.createElement(d.a,null,r.a.createElement(wa,{active:f,setActive:p}),"Colored"===f&&r.a.createElement(fa.a,{check:!0,inline:!0},r.a.createElement(pa.a,{check:!0},r.a.createElement(ba.a,{type:"switch",id:"ReverseColorOrder",label:"Reverse Color Order",checked:v,onChange:function(e){return g(e.target.checked)}})))),"Simple"===f?r.a.createElement(ga,{climbingData:O}):r.a.createElement(_a,{colorClimbing:x,reverseColorOrder:v}),r.a.createElement(d.a,{className:"my-2 border-bottom"},r.a.createElement("h1",null,"Heatmap")),r.a.createElement(Oa,{submissions:k}))},Fa=n(237),Ma=n(240),Na=n(239),Pa=function(e){Object(Ma.a)(n,e);var t=Object(Na.a)(n);function n(e){var a;return Object(N.a)(this,n),(a=t.call(this,e)).state={tooltipOpen:!1},a}return Object(Fa.a)(n,[{key:"render",value:function(){var e=this,t=this.state.tooltipOpen,n="HelpBadgeTooltip-"+this.props.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(nt.a,{color:"secondary",pill:!0,id:n},"?"),r.a.createElement(at.a,{placement:"top",target:n,isOpen:t,toggle:function(){return e.setState({tooltipOpen:!t})}},this.props.children))}}]),n}(r.a.Component),Aa=["Exclude","1 Week","2 Weeks","4 Weeks","6 Months","Don't exclude"],Ra=function(e){switch(e){case"1 Week":return"Exclude problems solved in last 7 days.";case"2 Weeks":return"Exclude problems solved in last 2 weeks.";case"4 Weeks":return"Exclude problems solved in last 4 weeks";case"6 Months":return"Exclude problems solved in last 6 months";case"Exclude":return"Exclude all the solved problems";case"Don't exclude":return"Don't exclude solved problems."}},Da=[{text:"10",value:10},{text:"20",value:20},{text:"50",value:50},{text:"100",value:100},{text:"All",value:Number.POSITIVE_INFINITY}],Ta=function(e){var t=e.userSubmissions,n=e.problems,l=e.contests,o=e.problemModels,c=e.userRatingInfo,i=Object(a.useState)(10),u=Object(b.a)(i,2),s=u[0],m=u[1],p=Object(a.useState)("Moderate"),h=Object(b.a)(p,2),E=h[0],v=h[1],y=Object(a.useState)(!0),_=Object(b.a)(y,2),k=_[0],O=_[1],j=Object(a.useState)("Exclude"),w=Object(b.a)(j,2),x=w[0],I=w[1];if(0===t.length)return null;var F=new Map;t.filter((function(e){return W(e.result)})).forEach((function(e){var t,n=null!==(t=F.get(e.problem_id))&&void 0!==t?t:0;F.set(e.problem_id,Math.max(e.epoch_second,n))}));var M=function(e){switch(e){case"Easy":return.8;case"Moderate":return.5;case"Difficult":return.2;default:return 0}}(E),N=function(e){switch(e){case"Easy":return{lowerBound:.5,upperBound:Number.POSITIVE_INFINITY};case"Moderate":return{lowerBound:.2,upperBound:.8};case"Difficult":return{lowerBound:Number.NEGATIVE_INFINITY,upperBound:.5};default:return{lowerBound:Number.NEGATIVE_INFINITY,upperBound:Number.POSITIVE_INFINITY}}}(E),P=Math.floor((new Date).getTime()/1e3),A=n.filter((function(e){return function(e,t,n,a){var r=a.get(e);if(!r)return!0;var l=n-r;switch(t){case"Exclude":return!1;case"1 Week":return l>604800;case"2 Weeks":return l>1209600;case"4 Weeks":return l>2419200;case"6 Months":return l>15552e3;case"Don't exclude":return!0}}(e.id,x,P,F)})).filter((function(e){return o.has(e.id)})).map((function(e){return Object(g.a)(Object(g.a)({},e),{},{difficulty:o.getIn([e.id,"difficulty"],void 0),is_experimental:o.getIn([e.id,"is_experimental"],!1)})})).filter((function(e){return k||!e.is_experimental})).filter((function(e){return void 0!==e.difficulty})).map((function(e){var t,n,a=c.internalRating;if(null===a)t=null,n=-1;else{var r=o.get(e.id,{slope:void 0,difficulty:void 0,rawDifficulty:void 0,intercept:void 0,discrimination:void 0,is_experimental:!1,variance:void 0});t=C(r)?lt(r,a):null,n=S(r)?rt(r,a):-1}return Object(g.a)(Object(g.a)({},e),{},{predictedSolveTime:t,predictedSolveProbability:n})})).sort((function(e,t){return Math.abs(e.predictedSolveProbability-M)-Math.abs(t.predictedSolveProbability-M)})).filter((function(e){return N.lowerBound<=e.predictedSolveProbability&&e.predictedSolveProbability<N.upperBound})).slice(0,s).sort((function(e,t){return t.difficulty-e.difficulty})).toArray();return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:"my-3 d-flex justify-content-between"},r.a.createElement("div",null,r.a.createElement(ze.a,null,r.a.createElement(We.a,{onClick:function(){return v("Easy")},active:"Easy"===E},"Easy"),r.a.createElement(We.a,{onClick:function(){return v("Moderate")},active:"Moderate"===E},"Moderate"),r.a.createElement(We.a,{onClick:function(){return v("Difficult")},active:"Difficult"===E},"Difficult")),r.a.createElement(ze.a,{className:"mx-3"},r.a.createElement(We.a,{onClick:function(){return O(!0)},active:k},"Show",r.a.createElement("span",{role:"img","aria-label":"experimental"},"\ud83e\uddea")),r.a.createElement(We.a,{onClick:function(){return O(!1)},active:!k},"Hide",r.a.createElement("span",{role:"img","aria-label":"experimental"},"\ud83e\uddea"))),r.a.createElement(ze.a,null,r.a.createElement(Xe.a,null,r.a.createElement(Ze.a,{caret:!0},Ra(x)),r.a.createElement($e.a,null,Aa.map((function(e){return r.a.createElement(Qe.a,{key:e,onClick:function(){return I(e)}},Ra(e))})))))),r.a.createElement(Xe.a,{direction:"left"},r.a.createElement(Ze.a,{caret:!0},s===Number.POSITIVE_INFINITY?"All":s),r.a.createElement($e.a,null,Da.map((function(e){var t=e.text,n=e.value;return r.a.createElement(Qe.a,{key:n,onClick:function(){return m(n)}},t)}))))),r.a.createElement(d.a,{className:"my-3"},r.a.createElement(f.BootstrapTable,{data:A,keyField:"id",height:"auto",hover:!0,striped:!0},r.a.createElement(f.TableHeaderColumn,{dataField:"title",dataFormat:function(e,t){var n=t.id,a=t.contest_id,l=t.is_experimental;return r.a.createElement(gn,{isExperimentalDifficulty:l,showDifficulty:!0,problemId:n,problemTitle:e,contestId:a,problemModel:o.get(n,null),userRatingInfo:c})}},"Problem"),r.a.createElement(f.TableHeaderColumn,{dataField:"contest_id",dataFormat:function(e,t){var n=l.get(e);return n?r.a.createElement(vn,{contest:n}):r.a.createElement(fn,{href:rn(t.contest_id)},e)}},"Contest"),r.a.createElement(f.TableHeaderColumn,{dataField:"difficulty",dataFormat:function(e){return null===e?"-":String(e)}},r.a.createElement("span",null,"Difficulty"),r.a.createElement(Pa,{id:"difficulty"},"Internal rating to have 50% Solve Probability")),r.a.createElement(f.TableHeaderColumn,{dataField:"predictedSolveProbability",dataFormat:ct},r.a.createElement("span",null,"Solve Probability"),r.a.createElement(Pa,{id:"probability"},"Estimated probability that you could solve this problem if you competed in the contest.")),r.a.createElement(f.TableHeaderColumn,{dataField:"predictedSolveTime",dataFormat:ot},r.a.createElement("span",null,"Median Solve Time"),r.a.createElement(Pa,{id:"solvetime"},"Estimated time required to solve this problem.")))))},La=function(e){return e.startsWith("Perl6")?"Perl6":e.replace(/\d*\s*\(.*\)$/,"")};function Ba(e,t){var n=new Map;return e.forEach((function(e){var a=t(e),r=n.get(a);r?(r.push(e),n.set(a,r)):n.set(a,[e])})),n}var Ua=function(e){var t=Ba(e.submissions,(function(e){return La(e.language)})),n=new Map;Array.from(t).forEach((function(e){var t=Object(b.a)(e,2),a=t[0],r=t[1],l=r.filter((function(e){return W(e.result)})).reduce((function(e,t){return e.add(t.problem_id),e}),new Set);l.size>0&&n.set(a,{problems:l,dailyCount:$n(r)})}));var a=Array.from(n).map((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(g.a)({language:n,count:a.problems.size},Zn(a.dailyCount))})).sort((function(e,t){return e.language.localeCompare(t.language)})),l=Ct(jt().add(-1,"day"));return r.a.createElement(d.a,null,a.map((function(e){var t=e.language,n=e.count,a=e.longestStreak,o=e.currentStreak,c=e.prevDateLabel,i=c>=l;return r.a.createElement(He.a,{key:t,className:"text-center my-3",md:"3",xs:"6"},r.a.createElement("h6",null,t),r.a.createElement("h3",null,n),r.a.createElement("h6",{className:"text-muted"},"Longest Streak: ",a," days"),r.a.createElement("h6",{className:"text-muted"},"Current Streak: ",i?o:0," days"),r.a.createElement("h6",{className:"text-muted"},"Last AC: ",c))})))},Ga=function(e){var t=new Map;e.problemModels.forEach((function(e){if(void 0!==e.difficulty){var n,a=Z(e.difficulty),r=null!==(n=t.get(a))&&void 0!==n?n:0;t.set(a,r+1)}}));var n=e.solvedProblemIds.reduce((function(t,n){var a=e.problemModels.get(n);if(void 0!==(null===a||void 0===a?void 0:a.difficulty)){var r,l=Z(a.difficulty),o=null!==(r=t.get(l))&&void 0!==r?r:0;return t.set(l,o+1),t}return t}),new Map),a=V.filter((function(e){return"Black"!==e})).map((function(e){var a,r,l=null!==(a=t.get(e))&&void 0!==a?a:0,o=null!==(r=n.get(e))&&void 0!==r?r:0;return{color:Q(e),totalCount:l,solved:o}}));return r.a.createElement("div",null,r.a.createElement(d.a,{className:"my-3"},a.filter((function(e){return e.totalCount>0})).map((function(e){return r.a.createElement(He.a,{key:e.color,className:"text-center",xs:"6",md:"3"},r.a.createElement(na,{data:[{name:"AC",color:e.color,value:e.solved},{name:"NoSub",color:"#58616a",value:e.totalCount-e.solved}]}),r.a.createElement("h5",{className:"text-muted"},"".concat(e.solved," / ").concat(e.totalCount)))}))))},Ha=n(25),za=n(525),Wa=n(526),Ja=n(527),Ya=function(e,t,n){return[["Beginning",1],["Tutorial Finished",10],["Way into Solving",30],["Curious about Solving",50],["Finished this game",100],["Serious about Solving",200],["I can stop solving whenever I want.",300],["Can't Stop Solving",500],["Extremely into Solving",700],["Solving is My Life",1e3],["Fiend for Solving",1200],["Fanatic for Solving",1500],["Almost done",2e3],["Looking for a new problem",2500],["AtCoder has only a few problems.",3e3],["You're tourist of Solving.",3500]].map((function(a){var r=Object(b.a)(a,2),l=r[0],o=r[1],c=e?"[".concat(e,"] "):"";return{title:c+l,reason:c+"AC count >= ".concat(o),achieved:t>=o,sortId:"ac-count-".concat(n,"-").concat(o.toString().padStart(5,"0")),group:"AC Count"}}))},qa=function(e){return new Set(e.map((function(e){return e.submission.problem_id}))).size},Ka=function(e){var t=[],n=function(e){var t=e.filter((function(e){return W(e.submission.result)})).map((function(e){return e.submission.problem_id}));return new Set(t)}(e);return t.push.apply(t,Object(ya.a)(function(e){return[["2718","Solved WorldTourFinals2019-E","wtf19_e"]].map((function(t){var n=Object(b.a)(t,3),a=n[0],r=n[1],l=n[2];return{title:a,reason:r,achieved:e.has(l),sortId:"accepted-problem-".concat(l),group:"Problems"}}))}(n))),t},Va=function(e,t,n){for(var a=[["Welcome!",3],["Golden Week",7],["Real Golden Week",14],["Vacation",31],["Can't Come Back from Vacation",62],["#SolveProblemEveryDay",93],["Goal",100],["Beyond Goal",101],["Problem Solving is My Job",180],["Happy Anniversary!",365],["2nd Anniversary!",730],["I am no genius. I am simply good at it.",1e3],["I am genius.",1095]],r=10;r<100;r+=10)a.push(["Keep solving problems for ".concat(r," days"),r]);for(var l=150;l<1e3;l+=50)a.push(["Keep solving problems for ".concat(l," days"),l]);return a.map((function(a){var r=Object(b.a)(a,2),l=r[0],o=r[1],c=e?"[".concat(e,"] "):"";return{title:c+l,reason:c+"Longest Streak >= ".concat(o," days"),achieved:t>=o,sortId:"longest-streak-".concat(n,"-").concat(o.toString().padStart(4,"0")),group:"Streak"}}))},Za=function(e){var t=$n(e.map((function(e){return e.submission})));return{longestStreak:Zn(t).longestStreak,totalDays:t.length}},$a=function(e,t,n){var a=[],r=function(e){var t=e.filter((function(e){return W(e.submission.result)})).map((function(e){return e.submission.problem_id}));return new Set(t)}(e);return Array.from(t).forEach((function(e){var t=Object(b.a)(e,2),l=t[0],o=t[1];a.push(function(e,t,n,a){return{title:"Completed ".concat(t),reason:"Solved all problems in ".concat(e),achieved:function(e,t,n){var a=t.get(e);return!!a&&a.every((function(e){return n.has(e.id)}))}(e,n,a),sortId:"complete-contest-".concat(e),group:"Contests"}}(l,o.title,n,r))})),a},Qa=["AC Count","Contests","Problems","Streak"],Xa=function(e){var t=e.submissions,n=e.problemModels,l=e.contests,o=e.contestToProblems,c=t.map((function(e){return{submission:e,problemModel:n.get(e.problem_id)}})),i=[];i.push.apply(i,Object(ya.a)(function(e){var t=[],n=Ba(e,(function(e){return La(e.submission.language)}));Array.from(n).forEach((function(e){var n=Object(b.a)(e,2),a=n[0],r=n[1],l=Za(r).longestStreak;t.push.apply(t,Object(ya.a)(Va(a,l,"language-".concat(a))))}));var a=Ba(e,(function(e){var t,n=null===(t=e.problemModel)||void 0===t?void 0:t.difficulty;return void 0!==n?Z(n):void 0}));Array.from(a).forEach((function(e){var n=Object(b.a)(e,2),a=n[0],r=n[1];if(a){var l=V.indexOf(a),o=Za(r).longestStreak;t.push.apply(t,Object(ya.a)(Va(a,o,"difficulty-".concat(l))))}}));var r=$n(e.map((function(e){return e.submission}))),l=Zn(r).longestStreak;return t.push.apply(t,Object(ya.a)(Va(null,l,"all"))),t}(c))),i.push.apply(i,Object(ya.a)(function(e){var t=e.filter((function(e){return W(e.submission.result)})),n=[],a=Ba(t,(function(e){return La(e.submission.language)}));Array.from(a).forEach((function(e){var t=Object(b.a)(e,2),a=t[0],r=t[1],l=qa(r);n.push.apply(n,Object(ya.a)(Ya(a,l,"language-".concat(a))))}));var r=Ba(t,(function(e){var t,n=null===(t=e.problemModel)||void 0===t?void 0:t.difficulty;return void 0!==n?Z(n):void 0}));Array.from(r).forEach((function(e){var t=Object(b.a)(e,2),a=t[0],r=t[1];if(a){var l=qa(r),o=V.indexOf(a);n.push.apply(n,Object(ya.a)(Ya(a,l,"difficulty-".concat(o))))}}));var l=qa(t);return n.push.apply(n,Object(ya.a)(Ya(null,l,"all"))),n}(c))),i.push.apply(i,Object(ya.a)(Ka(c))),i.push.apply(i,Object(ya.a)($a(c,l,o)));var u=Object(a.useState)("All"),s=Object(b.a)(u,2),m=s[0],f=s[1],p=i.sort((function(e,t){return e.sortId.localeCompare(t.sortId)})).filter((function(e){return"All"===m||e.group===m})),h=[["All",i.filter((function(e){return e.achieved})).length]].concat(Object(ya.a)(Qa.map((function(e){return[e,i.filter((function(t){return t.group===e&&t.achieved})).length]}))));return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:"my-2"},r.a.createElement("h2",null,i.length," Trophies")),r.a.createElement(d.a,null,r.a.createElement(He.a,{md:"12",lg:"3",className:"mb-3"},r.a.createElement(za.a,null,h.map((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return r.a.createElement(Wa.a,{key:n,tag:"button",action:!0,active:m===n,onClick:function(){return f(n)}},n," ",r.a.createElement(nt.a,{pill:!0},a))})))),r.a.createElement(He.a,{md:"12",lg:"9"},r.a.createElement(Ja.a,{striped:!0,hover:!0},r.a.createElement("tbody",null,p.map((function(e){var t=e.sortId,n=e.title,a=e.reason,l=e.achieved;return r.a.createElement("tr",{key:t},r.a.createElement("th",{className:"text-success"},l&&r.a.createElement(Ha.g,{icon:Ha.f})),r.a.createElement("td",null,r.a.createElement("b",null,l?n:"???")),r.a.createElement("td",null,a))})))))))},er=["Achievement","AtCoder Pie Charts","Difficulty Pies","Progress Charts","Submissions","Recommendation","Languages","Trophy","All"],tr=Object(m.connect)((function(e){var t=e.userId;return{submissionsFetch:{comparison:t,value:function(){return e=Object(s.a)([t]),Promise.all(e.toArray().map((function(e){return je(e)}))).then((function(e){return e.reduce((function(e,t){return t.reduce((function(e,t){return e.update(t.problem_id,Object(s.a)(),(function(e){return e.push(t)}))}),e)}),Object(s.b)())}));var e}},mergedProblemsFetch:{comparison:null,value:function(){return ge()}},problemModelsFetch:{comparison:null,value:function(){return ye()}},contestsFetch:{comparison:null,value:function(){return _e()}},userRatingInfoFetch:{comparison:t,value:function(){return De(t)}},contestToProblemsFetch:{comparison:null,value:function(){return ke()}}}}))((function(e){var t=Object(i.h)(),n=new URLSearchParams(t.search).get("userPageTab"),a=er.find((function(e){return e===n}))||"Achievement",l=e.userId,o=e.userRatingInfoFetch,u=e.submissionsFetch,m=e.mergedProblemsFetch,f=e.contestToProblemsFetch,p=e.contestsFetch,h=e.problemModelsFetch;if(u.pending)return r.a.createElement(Hn.a,{style:{width:"3rem",height:"3rem"}});var E=o.fulfilled?o.value:A(Object(s.a)()),v=m.fulfilled?m.value:Object(s.b)(),g=p.fulfilled?p.value:Object(s.b)(),y=h.fulfilled?h.value:Object(s.b)(),_=u.fulfilled?u.value:Object(s.b)(),S=f.fulfilled?Kn(f.value.map((function(e){return e.toArray()}))):new Map;if(0===l.length||_.isEmpty())return r.a.createElement(zn.a,{color:"danger"},"User not found!");var C=new Set(g.valueSeq().flatMap((function(e){var t=mn(e),n=S.get(e.id);return t&&n?n:[]})).map((function(e){return e.id}))),k=_.valueSeq().flatMap((function(e){return e})).filter((function(e){return e.user_id===l})).toArray(),O=$n(k),j=Zn(O),w=j.longestStreak,x=j.currentStreak,I=j.prevDateLabel,F=_.entrySeq().filter((function(e){return Object(b.a)(e,2)[1].find((function(e){return W(e.result)}))})).map((function(e){return Object(b.a)(e,1)[0]})).toArray(),M=new Map,N=_.valueSeq().flatMap((function(e){return e})).filter((function(e){return W(e.result)})).filter((function(e){return C.has(e.problem_id)})).toArray();N.sort((function(e,t){return e.id-t.id})),N.forEach((function(e){M.set(e.problem_id,e.point)}));var P=Array.from(M.values()).reduce((function(e,t){return e+t}),0);return r.a.createElement("div",null,r.a.createElement(d.a,{className:"my-2 border-bottom"},r.a.createElement(Xn,{userId:l,big:!0,showRating:!0})),r.a.createElement(Wn.a,{tabs:!0},er.map((function(e){return r.a.createElement(Jn.a,{key:e},r.a.createElement(Yn.a,{tag:c.c,isActive:function(){return e===a},to:It(t,{userPageTab:e})},e))}))),("All"===a||"Achievement"===a)&&r.a.createElement(da,{userId:l,solvedCount:F.length,ratedPointSum:P,longestStreak:w,currentStreak:x,prevDateLabel:I,streakSum:O.length}),("All"===a||"AtCoder Pie Charts"===a)&&r.a.createElement(ia,{contestToProblems:S,userId:l,submissions:Kn(_.map((function(e){return e.toArray()})))}),("All"===a||"Difficulty Pies"===a)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:"my-2 border-bottom"},r.a.createElement("h1",null,"Difficulty Pies")),r.a.createElement(Ga,{problemModels:Kn(y),solvedProblemIds:F})),("All"===a||"Progress Charts"===a)&&r.a.createElement(Ia,{problemModels:Kn(y),submissions:Kn(_.map((function(e){return e.toArray()}))),userId:l,dailyCount:O,userSubmissions:k}),("All"===a||"Submissions"===a)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:"my-2 border-bottom"},r.a.createElement("h1",null,"Submissions")),r.a.createElement(qn,{problemModels:Kn(y),problems:v.valueSeq().toArray(),submissions:k,userRatingInfo:E})),("All"===a||"Languages"===a)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:"my-2 border-bottom"},r.a.createElement("h1",null,"Languages")),r.a.createElement(Ua,{submissions:k})),("All"===a||"Trophy"===a)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:"my-2 border-bottom"},r.a.createElement("h1",null,"Trophy [beta]")),r.a.createElement(Xa,{submissions:k,problemModels:Kn(y),contests:Kn(g),contestToProblems:S})),("All"===a||"Recommendation"===a)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:"my-2 border-bottom"},r.a.createElement("h1",null,"Recommendation")),r.a.createElement(Ta,{userSubmissions:k,problems:v.valueSeq().toList(),contests:g,problemModels:y,userRatingInfo:E})))})),nr=function(e){var t=e.active,n=e.setActive;return r.a.createElement(d.a,null,r.a.createElement(ze.a,{className:"table-tab"},sn.map((function(e,a){return r.a.createElement(We.a,{key:a,color:"secondary",onClick:function(){n(e)},active:t===e},e)}))))},ar=n(533),rr=n(534),lr=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:"my-4"},r.a.createElement(fa.a,{check:!0,inline:!0},r.a.createElement(pa.a,{check:!0},r.a.createElement(ba.a,{type:"switch",id:"hideCompletedContest",label:"Hide Completed Contest",checked:e.hideCompletedContest,onChange:e.toggleHideCompletedContest}))),r.a.createElement(fa.a,{check:!0,inline:!0},r.a.createElement(pa.a,{check:!0},r.a.createElement(ba.a,{type:"switch",id:"showDifficulties",label:"Show Difficulty",checked:e.showDifficulties,onChange:e.toggleShowDifficulties})),"\xa0",r.a.createElement(Pa,{id:"difficulty"},"Internal rating to have 50% Solve Probability")),e.colorMode===hn.ContestResult&&r.a.createElement(fa.a,{check:!0,inline:!0},r.a.createElement(pa.a,{check:!0},r.a.createElement(ba.a,{type:"switch",id:"showPenalties",label:"Show Penalties",checked:e.showPenalties,onChange:e.toggleShowPenalties}))),r.a.createElement(Xe.a,null,r.a.createElement(Ze.a,{caret:!0},{[hn.None]:"Color By",[hn.ContestResult]:"Contest Result",[hn.Language]:"Language"}[e.colorMode]),r.a.createElement($e.a,null,r.a.createElement(Qe.a,{header:!0},"Color By"),r.a.createElement(Qe.a,{onClick:function(){return e.setColorMode(hn.None)}},"None"),r.a.createElement(Qe.a,{onClick:function(){return e.setColorMode(hn.ContestResult)}},"Contest Result"),r.a.createElement(Qe.a,{onClick:function(){return e.setColorMode(hn.Language)}},"Language")))),e.colorMode===hn.Language&&!e.selectableLanguages.isEmpty()&&r.a.createElement(d.a,{className:"my-4"},r.a.createElement(He.a,{className:"px-0"},r.a.createElement(ar.a,{body:!0},r.a.createElement(fa.a,{check:!0,className:"m-0 p-0"},e.selectableLanguages.toArray().sort().map((function(t){return r.a.createElement(pa.a,{check:!0,key:t,style:{marginLeft:"2rem"}},r.a.createElement(rr.a,{type:"checkbox",checked:e.selectedLanguages.has(t),onChange:function(){return e.toggleLanguage(t)}}),t)})))))))},or=function(e){var t=e.contest,n=e.problemStatus,a=e.showPenalties;if(!n||n.label===pt.None)return null;var l=n.rejectedEpochSeconds.filter((function(e){return e<=t.start_epoch_second+t.duration_second})).length;return r.a.createElement("div",{className:"table-problem-timespan"},n.label!==pt.Success||n.epoch>t.start_epoch_second+t.duration_second?"":function(e){var t;return e>=0?t="":(t="-",e*=-1),"".concat(t).concat(Math.floor(e/60),":").concat(("0"+e%60).slice(-2))}(n.epoch-t.start_epoch_second),a&&l>0&&r.a.createElement("span",{className:"table-problem-timespan-penalty"},"(".concat(l,")")))},cr=function(e){var t=e.contests,n=e.contestToProblems,a=e.hideCompletedContest,l=e.statusLabelMap,o=e.colorMode,c=e.problemModels,i=e.showPenalties,u=e.selectedLanguages,m=e.userRatingInfo,f=t.sort((function(e,t){return t.start_epoch_second-e.start_epoch_second})).map((function(e){return{contest:e,problems:n.get(e.id,Object(s.a)()).sort((function(e,t){return e.title.localeCompare(t.title)}))}})).map((function(e){return{contest:e.contest,problemStatus:e.problems.map((function(e){return{problem:e,status:l.get(e.id)}}))}})).filter((function(e){var t=e.problemStatus;return!a||!t.every((function(e){var t=e.status;return!!t&&t.label===pt.Success}))})).map((function(e){return{contest:e.contest,problemInfo:e.problemStatus.map((function(e){var t=e.problem;return{problem:t,status:e.status,model:c.get(t.id)}}))}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:"my-4"},r.a.createElement("h2",null,e.title)),r.a.createElement("div",null,f.map((function(t){var n=t.contest,a=t.problemInfo;return r.a.createElement("div",{key:n.id,className:"contest-table-responsive"},r.a.createElement("strong",null,r.a.createElement(vn,{contest:n})),r.a.createElement(Ja.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("tbody",null,r.a.createElement("tr",null,a.map((function(t){var a=t.problem,l=t.status,c=t.model,s=l?Sn({colorMode:o,status:l,contest:n,selectedLanguages:u}):"";return r.a.createElement("td",{key:a.id,className:["table-problem",s].filter((function(e){return e})).join(" ")},r.a.createElement(gn,{isExperimentalDifficulty:!!c&&c.is_experimental,showDifficultyUnavailable:mn(n),showDifficulty:e.showDifficulty,problemId:a.id,problemTitle:a.title,contestId:a.contest_id,problemModel:c,userRatingInfo:m}),e.colorMode===hn.ContestResult&&r.a.createElement(or,{contest:n,problemStatus:l,showPenalties:i}))}))))))}))))},ir=r.a.memo((function(e){var t=e.colorMode,n=e.selectedLanguages,a=e.showPenalties,l=e.userRatingInfo,o=e.contests.map((function(a){var r=e.contestToProblems.get(a.id,Object(s.a)()).sort((function(e,t){return e.id.localeCompare(t.id)})),l=r.map((function(t){var n;return{problem:t,status:null!==(n=e.statusLabelMap.get(t.id))&&void 0!==n?n:Et(),model:e.problemModels.get(t.id)}})),o=r.map((function(r){var l,o=null!==(l=e.statusLabelMap.get(r.id))&&void 0!==l?l:Et();return Sn({colorMode:t,status:o,contest:a,selectedLanguages:n})})),c=function(e){var t=e.colorMode,n=e.colorList;switch(t){case hn.ContestResult:if(n.every((function(e){return e===En.SuccessBeforeContest})))return En.SuccessBeforeContest;if(n.every((function(e){return e===En.SuccessIntime})))return En.SuccessIntime;break;case hn.Language:if(n.every((function(e){return e===En.SuccessLanguage})))return En.SuccessLanguage}return n.isSubset(yn)?En.Success:En.None}({colorMode:t,colorList:o}),i=l.every((function(e){return e.status.label===pt.Success}));return{contest:a,id:a.id,problemStatus:l,solvedAll:i,rowColor:c,cellColorList:o}})).filter((function(t){var n=t.solvedAll;return!e.hideCompletedContest||!n})).sort((function(e,t){return t.contest.start_epoch_second-e.contest.start_epoch_second})),c=o.reduce((function(e,t){var n=t.problemStatus;return Math.max(n.size,e)}),0),i=["A","B","C","D","E","F","F2"].slice(0,c);return r.a.createElement(d.a,{className:"my-4"},r.a.createElement("h2",null,e.title),r.a.createElement(f.BootstrapTable,{data:o,tableContainerClass:"contest-table-responsive contest-regular-table-responsive"},r.a.createElement(f.TableHeaderColumn,{isKey:!0,dataField:"id",columnClassName:function(e,t){return t.rowColor},dataFormat:function(e,t){var n=t.contest;return r.a.createElement(vn,{contest:n,title:n.id.toUpperCase()})}},"Contest"),i.map((function(t,n){return r.a.createElement(f.TableHeaderColumn,{dataField:t,key:t,className:function(){return o.every((function(e){var t,a=null===(t=e.problemStatus.get(n))||void 0===t?void 0:t.status;return!a||a.label===pt.Success}))?En.Success:En.None},columnClassName:function(e,t){var a=t.problemStatus,r=t.cellColorList,l=a.get(n),o=r.get(n,En.None);return["table-problem",l?o:"table-problem-empty"].filter((function(e){return e})).join(" ")},dataFormat:function(t,o){var c=o.contest,i=o.problemStatus.get(n),u=i?i.model:void 0;return i?r.a.createElement(r.a.Fragment,null,r.a.createElement(gn,{isExperimentalDifficulty:!!u&&u.is_experimental,showDifficultyUnavailable:!0,showDifficulty:e.showDifficulty,contestId:c.id,problemId:i.problem.id,problemTitle:i.problem.title,problemModel:u,userRatingInfo:l}),e.colorMode===hn.ContestResult&&r.a.createElement(or,{contest:c,problemStatus:i.status,showPenalties:a})):""}},t)}))))})),ur=Object(m.connect)((function(e){return{problemModelsFetch:{comparison:null,value:function(){return ye()}},contestsFetch:{comparison:null,value:function(){return _e()}},problemsFetch:{comparison:null,value:function(){return Se()}},contestToProblemsFetch:{comparison:null,value:function(){return ke()}},selectableLanguagesFetch:{comparison:e.userId,value:function(){return t=e.userId,void 0!==Pe.selectableLanguages&&Pe.userId===t||(Pe.userId=t,Pe.selectableLanguages=je(t).then((function(e){return e.map((function(e){return e.language})).toSet()}))),Pe.selectableLanguages;var t}},userRatingInfoFetch:{comparison:e.userId,value:function(){return De(e.userId)}},submissions:{comparison:[e.userId,e.rivals],value:function(){return Promise.all(e.rivals.push(e.userId).map((function(e){return Mt(e)}))).then((function(e){return e.flatMap((function(e){return e}))}))}},loginState:Pt,progressResetList:Qt}}))((function(e){var t=e.contestsFetch,n=e.contestToProblemsFetch,l=e.problemModelsFetch,o=e.selectableLanguagesFetch,c=e.userRatingInfoFetch,i=ut("contestTableTab","ABC"),u=Object(b.a)(i,2),m=u[0],d=u[1],f=ut("hideCompletedContest",!1),p=Object(b.a)(f,2),h=p[0],E=p[1],v=ut("showDifficulty",!0),g=Object(b.a)(v,2),y=g[0],_=g[1],S=ut("colorMode",hn.None),C=Object(b.a)(S,2),k=C[0],O=C[1],j=ut("showPenalties",!1),w=Object(b.a)(j,2),x=w[0],I=w[1],F=Object(a.useState)(Object(s.d)()),M=Object(b.a)(F,2),N=M[0],P=M[1],R=c.fulfilled?c.value:A(Object(s.a)()),D=l.fulfilled?l.value:Object(s.b)(),T=n.fulfilled?n.value:Object(s.b)(),L=t.fulfilled?t.value:Object(s.b)(),B=o.fulfilled?o.value:Object(s.d)(),U=e.submissions.fulfilled?e.submissions.value:[],G=e.loginState.fulfilled&&e.loginState.value&&e.loginState.value.atcoder_user_id?e.loginState.value.atcoder_user_id:void 0,H=e.progressResetList.fulfilled&&e.progressResetList.value?e.progressResetList.value:void 0,z=G&&H?an(U,H,G):U,W=vt(z,e.userId),J=L.valueSeq().toArray().filter((function(e){return dn(e)===m}));return r.a.createElement("div",null,r.a.createElement(lr,{hideCompletedContest:h,toggleHideCompletedContest:function(){return E(!h)},showDifficulties:y,toggleShowDifficulties:function(){return _(!y)},colorMode:k,setColorMode:O,showPenalties:x,toggleShowPenalties:function(){return I(!x)},selectableLanguages:B,selectedLanguages:N,toggleLanguage:function(e){return P(N.has(e)?N.delete(e):N.add(e))}}),r.a.createElement(nr,{active:m,setActive:d}),["ABC","ARC","AGC"].includes(m)?r.a.createElement(ir,{problemModels:D,showDifficulty:y,hideCompletedContest:h,colorMode:k,contests:J,title:"ABC"===m?"AtCoder Beginner Contest":"ARC"===m?"AtCoder Regular Contest":"AtCoder Grand Contest",contestToProblems:T,statusLabelMap:W,showPenalties:x,selectedLanguages:N,userRatingInfo:R}):r.a.createElement(cr,{problemModels:D,showDifficulty:y,contests:J,title:m,contestToProblems:T,hideCompletedContest:h,colorMode:k,statusLabelMap:W,showPenalties:x,selectedLanguages:N,userRatingInfo:R}))})),sr=n(535),mr=n(538),dr=n(539),fr=n(536),pr=n(537),br=function(e,t,n){var a;return"/"+e+"/"+[z(t)].concat(Object(ya.a)((a=n,H.exec(a)?a.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0})):[]))).join("/")},hr=Object(m.connect)((function(){return{loginState:{url:Pt}}}))((function(e){var t=Object(i.h)().pathname,n=function(e){return/^\/user/.exec(e)?"user":/^\/list/.exec(e)?"list":/^\/table/.exec(e)?"table":void 0}(t),a=n?function(e){var t=e.split("/");return{userId:t.length>=3?t[2]:"",rivalIdString:t.slice(3).filter((function(e){return e.length>0})).join(",")}}(t):void 0,l=null===a||void 0===a?void 0:a.userId,o=null===a||void 0===a?void 0:a.rivalIdString,u=e.loginState.fulfilled&&e.loginState.value&&e.loginState.value.atcoder_user_id?e.loginState.value.atcoder_user_id:"",s=r.a.useState(null!==l&&void 0!==l?l:""),m=Object(b.a)(s,2),d=m[0],f=m[1],p=r.a.useState(null!==o&&void 0!==o?o:""),h=Object(b.a)(p,2),E=h[0],v=h[1],g=Object(i.g)(),y=function(){var e=br(null!==n&&void 0!==n?n:"table",d||u,E);g.push({pathname:e})};r.a.useEffect((function(){l&&f(l),o&&v(o)}),[l,o]);var _=r.a.useMemo((function(){return[br("table",d||u,E),br("list",d||u,E),br("user",d||u,E)]}),[d,u,E]),S=Object(b.a)(_,3),C=S[0],k=S[1],O=S[2];return r.a.createElement(sr.a,{color:"light",light:!0,expand:"md",className:"border-bottom",style:{padding:0}},r.a.createElement(fr.a,{isOpen:e.isOpen,navbar:!0},r.a.createElement(Wn.a,{navbar:!0,style:{padding:"0.5rem 1rem"}},r.a.createElement(pr.a,{inline:!0},r.a.createElement(rr.a,{className:"mt-2 mr-2 mt-lg-0 mt-md-0",style:{width:160},onKeyPress:function(e){"Enter"===e.key&&y()},value:d,type:"text",name:"user_id",id:"user_id",placeholder:u||"User ID",onChange:function(e){return f(e.target.value)}}),r.a.createElement(rr.a,{className:"mt-2 mr-2 mt-lg-0 mt-md-0",style:{width:160},onKeyPress:function(e){"Enter"===e.key&&y()},value:E,type:"text",name:"rival_id",id:"rival_id",placeholder:"Rival ID, ...",onChange:function(e){return v(e.target.value)}}),r.a.createElement(ze.a,{className:"mt-2 mb-0 mt-lg-0 mt-md-0"},r.a.createElement(We.a,{tag:c.c,to:C,color:"light"},"Table"),r.a.createElement(We.a,{tag:c.c,to:k,color:"light"},"List"),r.a.createElement(We.a,{disabled:0===d.length&&0===u.length,tag:c.c,to:O,color:"light"},"User"))))))})),Er=function(){var e=Object(a.useContext)(mt),t=Object(b.a)(e,2)[1];return r.a.createElement(Xe.a,{nav:!0,inNavbar:!0},r.a.createElement(Ze.a,{nav:!0,caret:!0},"Theme"),r.a.createElement($e.a,null,r.a.createElement(Qe.a,{tag:"a",style:{cursor:"pointer"},onClick:function(){return t("light")}},"Light"),r.a.createElement(Qe.a,{tag:"a",style:{cursor:"pointer"},onClick:function(){return t("dark")}},"Dark (Beta)"),r.a.createElement(Qe.a,{tag:"a",style:{cursor:"pointer"},onClick:function(){return t("purple")}},"Purple (Beta)")))},vr=Object(m.connect)((function(){return{loginState:{url:Pt}}}))((function(e){var t=e.loginState.fulfilled&&e.loginState.value&&e.loginState.value.internal_user_id.length>0,n=e.loginState.fulfilled&&e.loginState.value&&e.loginState.value.atcoder_user_id?e.loginState.value.atcoder_user_id:"",a=r.a.useState(!1),l=Object(b.a)(a,2),o=l[0],u=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(sr.a,{color:"dark",dark:!0,expand:"lg"},r.a.createElement(mr.a,{tag:c.c,to:"/",className:"mb-0 h1"},"AtCoder Problems"),r.a.createElement(dr.a,{onClick:function(){return u(!o)}}),r.a.createElement(fr.a,{isOpen:o,navbar:!0},r.a.createElement(Wn.a,{navbar:!0},r.a.createElement(Jn.a,null,r.a.createElement(Yn.a,{tag:c.c,to:"/table/"},"Problems")),r.a.createElement(Xe.a,{nav:!0,inNavbar:!0},r.a.createElement(Ze.a,{nav:!0,caret:!0},"Rankings"),r.a.createElement($e.a,null,r.a.createElement(Qe.a,{tag:c.c,to:"/ac"},"AC Count"),r.a.createElement(Qe.a,{tag:c.c,to:"/fast"},"Fastest Submissions"),r.a.createElement(Qe.a,{tag:c.c,to:"/short"},"Shortest Submissions"),r.a.createElement(Qe.a,{tag:c.c,to:"/first"},"First AC"),r.a.createElement(Qe.a,{tag:c.c,to:"/sum"},"Rated Point Ranking"),r.a.createElement(Qe.a,{tag:c.c,to:"/streak"},"Streak Ranking"),r.a.createElement(Qe.a,{tag:c.c,to:"/lang"},"Language Owners"))),r.a.createElement(Jn.a,null,r.a.createElement(Yn.a,{tag:c.c,to:"/submissions/recent"},"Submissions")),r.a.createElement(Jn.a,null,r.a.createElement(Yn.a,{href:"https://github.com/kenkoooo/AtCoderProblems/tree/master/doc",target:"_blank",rel:"noopener noreferrer"},"FAQ")),r.a.createElement(Xe.a,{nav:!0,inNavbar:!0},r.a.createElement(Ze.a,{nav:!0,caret:!0},"Links"),r.a.createElement($e.a,null,r.a.createElement(Qe.a,{tag:"a",href:"https://atcoder.jp/",target:"_blank",rel:"noopener noreferrer"},"AtCoder"),r.a.createElement(Qe.a,{tag:"a",href:"http://aoj-icpc.ichyo.jp/",target:"_blank",rel:"noopener noreferrer"},"AOJ-ICPC"),r.a.createElement(Qe.a,{tag:"a",href:"https://github.com/kenkoooo/AtCoderProblems",target:"_blank",rel:"noopener noreferrer"},"GitHub"),r.a.createElement(Qe.a,{tag:"a",href:"https://twitter.com/kenkoooo",target:"_blank",rel:"noopener noreferrer"},"@kenkoooo")))),r.a.createElement(Wn.a,{className:"ml-auto",navbar:!0},r.a.createElement(Er,null),r.a.createElement(Jn.a,null,r.a.createElement(Yn.a,{tag:c.c,to:"/contest/recent"},"Virtual Contests")),r.a.createElement(Jn.a,null,r.a.createElement(Yn.a,{tag:c.c,to:"/training"},"Training")),r.a.createElement(Jn.a,null,t?r.a.createElement(Yn.a,{tag:c.c,to:"/login/user"},"Account (",n,")"):r.a.createElement(Yn.a,{href:un},"Login"))))),r.a.createElement(i.b,{path:["/user/:userIds([a-zA-Z0-9_]+)+","/table/:userIds([a-zA-Z0-9_]*)*","/list/:userIds([a-zA-Z0-9_]*)*"]},r.a.createElement(hr,{isOpen:o})))})),gr=Object(m.connect)((function(){return{rankingFetch:{comparison:null,value:we}}}))((function(e){return r.a.createElement(p,{title:r.a.createElement(r.a.Fragment,null,"Streak Ranking"," ",r.a.createElement(nt.a,{pill:!0,id:"streakRankingTooltip"},"?"),r.a.createElement(sa.a,{target:"streakRankingTooltip",placement:"right"},"The streak ranking is based on ",r.a.createElement("strong",null,"Japan Standard Time")," ","(JST, UTC+9).")),ranking:e.rankingFetch.fulfilled?e.rankingFetch.value:[]})})),yr=function(e,t){return fetch(zt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contest_id:e,problems:t.map((function(e,t){return Object(g.a)(Object(g.a)({},e),{},{order:t})}))})}).then((function(){return{}}))},_r=n(542),Sr=n(546),Cr=n(540),kr=n(541),Or=function(e){var t=Object(a.useState)(""),n=Object(b.a)(t,2),l=n[0],o=n[1],c=Object(a.useState)(-1),i=Object(b.a)(c,2),u=i[0],s=i[1],m=e.problems.filter((function(e){return n=e,(t=l).length>0&&t.split(/\s/).every((function(e){return e.trim().length>0&&n.title.toLowerCase().includes(e.toLowerCase())||on(n.id,n.contest_id).toLowerCase().includes(e.toLowerCase())}));var t,n})).slice(0,20);return r.a.createElement(r.a.Fragment,null,r.a.createElement(rr.a,{type:"text",placeholder:"Search here to add problems.",value:l,onChange:function(e){o(e.target.value),s(-1)},onKeyDown:function(t){if("Enter"===t.key){var n=m.length>u?m[u]:void 0;n&&(e.selectProblem(n),o(""),s(-1))}else"ArrowDown"===t.key?s(Math.min(m.length-1,u+1)):"ArrowUp"===t.key&&s(Math.max(-1,u-1))}}),r.a.createElement(za.a,null,m.map((function(t,n){return r.a.createElement(Wa.a,{active:n===u,key:t.id,onClick:function(){e.selectProblem(t),o(""),s(-1)}},r.a.createElement(Cr.a,null,t.title),r.a.createElement(kr.a,null,on(t.id,t.contest_id)))}))))},jr=n(543),wr=n(238),xr={displayName:"Level 1",problemSelectionParams:[{minDifficulty:0,maxDifficulty:50},{minDifficulty:10,maxDifficulty:100},{minDifficulty:50,maxDifficulty:800},{minDifficulty:800,maxDifficulty:1200},{minDifficulty:1200,maxDifficulty:1600},{minDifficulty:2e3,maxDifficulty:2400}]},Ir={displayName:"Level 2",problemSelectionParams:[{minDifficulty:0,maxDifficulty:100},{minDifficulty:50,maxDifficulty:400},{minDifficulty:400,maxDifficulty:1600},{minDifficulty:1600,maxDifficulty:2200},{minDifficulty:2200,maxDifficulty:2800},{minDifficulty:2800,maxDifficulty:4e3}]},Fr={displayName:"Level 3",problemSelectionParams:[{minDifficulty:400,maxDifficulty:1200},{minDifficulty:1200,maxDifficulty:2400},{minDifficulty:1600,maxDifficulty:3200},{minDifficulty:2400,maxDifficulty:9999},{minDifficulty:2800,maxDifficulty:9999},{minDifficulty:2800,maxDifficulty:9999}]},Mr=function(e){var t=Object(a.useState)(xr.problemSelectionParams),n=Object(b.a)(t,2),l=n[0],o=n[1],c=Object(a.useState)(!1),i=Object(b.a)(c,2),u=i[0],m=i[1],d=Object(a.useState)(!0),f=Object(b.a)(d,2),p=f[0],h=f[1],y=Object(a.useState)(xr),_=Object(b.a)(y,2),C=_[0],k=_[1];return r.a.createElement(pr.a,{className:"w-100"},r.a.createElement(fa.a,{row:!0},r.a.createElement(He.a,null,r.a.createElement(_r.a,null,r.a.createElement(jr.a,{addonType:"prepend"},r.a.createElement(wr.a,null,r.a.createElement(rr.a,{addon:!0,type:"checkbox","aria-label":"Exclude experimental difficulty",checked:u,onChange:function(e){return m(e.target.checked)}}))),r.a.createElement(wr.a,null,"Exclude experimental difficulty")))),r.a.createElement(fa.a,{row:!0},r.a.createElement(He.a,null,r.a.createElement(_r.a,null,r.a.createElement(jr.a,{addonType:"prepend"},r.a.createElement(wr.a,null,r.a.createElement(rr.a,{addon:!0,type:"checkbox","aria-label":"Exclude already solved problems by expected participants",checked:p,onChange:function(e){return h(e.target.checked)}}))),r.a.createElement(wr.a,null,"Exclude already solved problems by expected participants")))),r.a.createElement(fa.a,{row:!0},r.a.createElement(He.a,{sm:6},r.a.createElement(pa.a,null,"Difficulty Adjustment Preset"),r.a.createElement(_r.a,null,r.a.createElement(Xe.a,null,r.a.createElement(Ze.a,{caret:!0},C.displayName),r.a.createElement($e.a,null,[xr,Ir,Fr].map((function(e){return r.a.createElement(Qe.a,{onClick:function(){k(e),o(e.problemSelectionParams)},key:e.displayName},e.displayName)}))))))),l.map((function(e,t){return r.a.createElement(fa.a,{row:!0,key:t},r.a.createElement(He.a,{sm:6},r.a.createElement(pa.a,null," Problem ",t+1),r.a.createElement(We.a,{close:!0,onClick:function(){var e=Object(ya.a)(l);e.splice(t,1),o(e)}}),r.a.createElement(_r.a,null,r.a.createElement(jr.a,{addonType:"prepend"},r.a.createElement(wr.a,null,"Min Difficulty")),r.a.createElement(rr.a,{placeholder:"Min Difficulty",min:0,max:1e4,type:"number",value:e.minDifficulty,step:50,onChange:function(n){var a=Object(ya.a)(l);a[t]=Object(g.a)(Object(g.a)({},e),{},{minDifficulty:parseInt(n.target.value,10)}),o(a)}}),r.a.createElement(jr.a,{addonType:"prepend"},r.a.createElement(wr.a,null,"Max Difficulty")),r.a.createElement(rr.a,{placeholder:"Max Difficulty",min:0,max:1e4,type:"number",value:e.maxDifficulty,step:50,onChange:function(n){var a=Object(ya.a)(l);a[t]=Object(g.a)(Object(g.a)({},e),{},{maxDifficulty:parseInt(n.target.value,10)}),o(a)}}))))})),r.a.createElement("div",{style:{paddingBottom:16}},r.a.createElement(We.a,{color:"link",onClick:function(){var e;e=0===l.length?{minDifficulty:0,maxDifficulty:1e4}:Object(g.a)({},l[l.length-1]),o([].concat(Object(ya.a)(l),[e]))}},"More problem ...")),r.a.createElement(fa.a,{row:!0},r.a.createElement(He.a,{sm:12},r.a.createElement(We.a,{color:"success",disabled:0===l.length||e.addButtonDisabled,onClick:Object(v.a)(E.a.mark((function t(){var n,a,r,o,c,i;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=l.length,a=e.problems.map((function(t){return{problem:t,model:e.problemModels.get(t.id)}})),u&&(a=a.filter((function(e){return void 0!==e.model&&!e.model.is_experimental}))),!p){t.next=15;break}return t.prev=4,t.next=7,Promise.all(e.expectedParticipantUserIds.map(je)).then((function(e){return Object(s.a)(e).flatten(!0).filter((function(e){return W(e.result)})).map((function(e){return e.problem_id})).toSet()}));case 7:r=t.sent,a=a.filter((function(e){return!r.contains(e.problem.id)})),t.next=15;break;case 11:throw t.prev=11,t.t0=t.catch(4),alert("Error happened during fetching submissions. See console."),t.t0;case 15:a=X(a).toList(),o=[],c=new Set,i=[],l.forEach((function(e,t){var n=!1;a.forEach((function(t){if(!n&&!c.has(t.problem.id))return S(t.model)&&t.model.difficulty>=e.minDifficulty&&t.model.difficulty<=e.maxDifficulty?(c.add(t.problem.id),o.push(t.problem),void(n=!0)):void 0})),n||i.push(t)})),o.length<n&&alert("Only ".concat(o.length," problems are prepared. (Failed to assign a problem for problem ").concat(i.map((function(e){return e+1})).join(","),")")),e.selectProblem.apply(e,o);case 22:case"end":return t.stop()}}),t,null,[[4,11]])})))},"Add")),r.a.createElement(He.a,null,e.addButtonDisabled&&r.a.createElement("span",null,e.feedbackForDisabledAddButton))))},Nr=n(557),Pr=n(544),Ar=n(545),Rr=function(e){var t=e.title,n=e.children,l=e.id,o=e.tooltipText,c=Object(a.useState)(!1),i=Object(b.a)(c,2),u=i[0],s=i[1],m=Object(a.useState)(!1),d=Object(b.a)(m,2),f=d[0],p=d[1],h=function(){return s(!u)},E="HelpBadgeTooltipModal-"+l;return r.a.createElement(r.a.Fragment,null,r.a.createElement(nt.a,{color:"secondary",pill:!0,id:E,style:{cursor:"pointer"},onClick:h},"?"),r.a.createElement(at.a,{placement:"top",target:E,isOpen:f,toggle:function(){return p(!f)}},null!==o&&void 0!==o?o:"Click to see detailed explanation."),r.a.createElement(Nr.a,{isOpen:u,toggle:h},r.a.createElement(Pr.a,{toggle:h},null!==t&&void 0!==t?t:"Help"),r.a.createElement(Ar.a,null,n)))},Dr=Object(m.connect)((function(e){return{userSolvedProblemsMapFetch:{comparison:e.expectedParticipantUserIds,refreshing:!0,value:function(){var t=Object(v.a)(E.a.mark((function t(){var n,a,r,l,o,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={},a=[],r=Object(Ke.a)(e.expectedParticipantUserIds),t.prev=3,r.s();case 5:if((l=r.n()).done){t.next=19;break}return o=l.value,t.prev=7,t.next=10,je(o);case 10:c=t.sent,n[o]=c.filter((function(e){return W(e.result)})).map((function(e){return e.problem_id})).toSet(),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(7),a.push(o);case 17:t.next=5;break;case 19:t.next=24;break;case 21:t.prev=21,t.t1=t.catch(3),r.e(t.t1);case 24:return t.prev=24,r.f(),t.finish(24);case 27:return a.length>0?e.onSolvedProblemsFetchFinished("Fetch Failed for ".concat(a.join(", "))):e.onSolvedProblemsFetchFinished(),t.abrupt("return",n);case 29:case"end":return t.stop()}}),t,null,[[3,21,24,27],[7,14]])})));return function(){return t.apply(this,arguments)}}()}}}))((function(e){var t=e.problemSet;return r.a.createElement(za.a,null,t.isEmpty()&&r.a.createElement(Wa.a,null,"You have not added any problems yet. Use the search box below to search for problems to add to the contest."),t.valueSeq().map((function(n,a){var l,o=n.id,c=e.problemMap.get(o),i=c&&e.userSolvedProblemsMapFetch.fulfilled?Object.entries(e.userSolvedProblemsMapFetch.value).filter((function(e){return Object(b.a)(e,2)[1].contains(c.id)})).map((function(e){return Object(b.a)(e,1)[0]})):[];return r.a.createElement(Wa.a,{key:o,style:{backgroundColor:i.length>0?"#ffeeee":""}},r.a.createElement(We.a,{close:!0,onClick:function(){e.setProblemSet(t.filter((function(e){return e.id!==o})))}}),c?r.a.createElement(gn,{problemId:c.id,contestId:c.contest_id,problemTitle:c.title,showDifficulty:!0,problemModel:e.problemModelMap.get(o),isExperimentalDifficulty:null===(l=e.problemModelMap.get(o))||void 0===l?void 0:l.is_experimental}):o,i.length>0&&r.a.createElement(r.a.Fragment,null," solved by ",i.join(", ")),r.a.createElement(ze.a,{size:"sm",style:{float:"right",marginRight:"1rem"}},null===n.point?r.a.createElement(We.a,{onClick:function(){e.setProblemSet(t.update(a,(function(e){return Object(g.a)(Object(g.a)({},e),{},{point:0})})))}},"Set Point"):null,r.a.createElement(We.a,{disabled:0===a,onClick:function(){var n=t.get(a),r=t.get(a-1);n&&r&&e.setProblemSet(t.set(a-1,n).set(a,r))}},r.a.createElement(Ha.g,{icon:Ha.c})),r.a.createElement(We.a,{disabled:a===t.size-1,onClick:function(){var n=t.get(a+1),r=t.get(a);n&&r&&e.setProblemSet(t.set(a,n).set(a+1,r))}},r.a.createElement(Ha.g,{icon:Ha.b}))),null!==n.point?r.a.createElement(_r.a,{style:{marginTop:"1rem"}},r.a.createElement(rr.a,{type:"number",defaultValue:n.point,onChange:function(n){var r=parseInt(n.target.value,10),l=isNaN(r)?0:r;e.setProblemSet(t.update(a,(function(e){return Object(g.a)(Object(g.a)({},e),{},{point:l})})))}}),r.a.createElement(jr.a,{addonType:"append"},r.a.createElement(We.a,{onClick:function(){e.setProblemSet(t.update(a,(function(e){return Object(g.a)(Object(g.a)({},e),{},{point:null})})))}},"Unset"))):null)})))})),Tr=function(e,t,n){var a=t<10?"0"+t:""+t,r=n<10?"0"+n:""+n,l="".concat(e,"T").concat(a,":").concat(r,":00");return yt()(l).unix()},Lr=Object(m.connect)((function(){return{problemMapFetch:{comparison:null,value:function(){return Se()}},problemModelsFetch:{comparison:null,value:function(){return ye()}},loginState:{url:Pt}}}))((function(e){var t=Object(a.useState)(e.initialTitle),n=Object(b.a)(t,2),l=n[0],o=n[1],c=Object(a.useState)(e.initialMemo),u=Object(b.a)(c,2),m=u[0],f=u[1],p=Object(a.useState)(e.initialStartDate),h=Object(b.a)(p,2),E=h[0],v=h[1],g=Object(a.useState)(e.initialStartHour),y=Object(b.a)(g,2),_=y[0],S=y[1],C=Object(a.useState)(e.initialStartMinute),k=Object(b.a)(C,2),O=k[0],j=k[1],w=Object(a.useState)(e.initialEndDate),x=Object(b.a)(w,2),I=x[0],F=x[1],M=Object(a.useState)(e.initialEndHour),N=Object(b.a)(M,2),P=N[0],A=N[1],R=Object(a.useState)(e.initialEndMinute),D=Object(b.a)(R,2),T=D[0],L=D[1],B=Object(a.useState)(e.initialProblems),U=Object(b.a)(B,2),G=U[0],H=U[1],z=Object(a.useState)(e.initialMode),W=Object(b.a)(z,2),J=W[0],Y=W[1],q=Object(a.useState)(e.initialPublicState),K=Object(b.a)(q,2),V=K[0],Z=K[1],$=Object(a.useState)(e.initialPenaltySecond),Q=Object(b.a)($,2),X=Q[0],ee=Q[1],te=Object(a.useState)(""),ne=Object(b.a)(te,2),ae=ne[0],re=ne[1],le=Object(a.useState)(""),oe=Object(b.a)(le,2),ce=oe[0],ie=oe[1],ue=ce.length>0,se=ae.length>0?ae.split(" "):[];if(e.loginState.rejected)return r.a.createElement(i.a,{to:"/"});var me=e.problemMapFetch,de=e.problemModelsFetch;if(!me.fulfilled||!de.fulfilled)return null;var fe=me.value,pe=de.value,be=Tr(E,_,O),he=Tr(I,P,T),Ee=l.length>0&&be<=he,ve=function(){for(var e=G,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];n.forEach((function(t){G.every((function(e){return e.id!==t.id}))&&(e=e.push({id:t.id,point:null,order:null}))})),H(e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,r.a.createElement(He.a,null,r.a.createElement("h1",null,e.pageTitle))),r.a.createElement("h2",{className:"my-3"},"Contest Information"),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,null,r.a.createElement(pa.a,null,"Contest Title"),r.a.createElement(rr.a,{type:"text",placeholder:"Contest Title",value:l,onChange:function(e){return o(e.target.value)}}))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,null,r.a.createElement(pa.a,null,"Description"),r.a.createElement(rr.a,{type:"textarea",placeholder:"Description",value:m,onChange:function(e){return f(e.target.value)}}))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,null,r.a.createElement(pa.a,null,"Public State"),r.a.createElement(_r.a,null,r.a.createElement(Xe.a,null,r.a.createElement(Ze.a,{caret:!0},nn(V)),r.a.createElement($e.a,null,r.a.createElement(Qe.a,{onClick:function(){return Z(!0)}},nn(!0)),r.a.createElement(Qe.a,{onClick:function(){return Z(!1)}},nn(!1))))))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,null,r.a.createElement(pa.a,null,"Mode"," ",r.a.createElement(Rr,{title:"Explanation of Different Modes",id:"help-virtual-contest-modes"},r.a.createElement("p",null,r.a.createElement("b",null,"Normal:")," similar to normal contests. Contestants are ranked by total score, then penalty."),r.a.createElement("p",null,r.a.createElement("b",null,"Lockout:")," only the first contestant who solved the problem gets the score for the problem."),r.a.createElement("p",null,r.a.createElement("b",null,"Training:")," contestants are ranked by total number of solved problems, then time of last accepted submission."))),r.a.createElement(_r.a,null,r.a.createElement(Xe.a,null,r.a.createElement(Ze.a,{caret:!0},tn(J)),r.a.createElement($e.a,null,r.a.createElement(Qe.a,{onClick:function(){return Y(null)}},tn(null)),r.a.createElement(Qe.a,{onClick:function(){return Y("lockout")}},tn("lockout")),r.a.createElement(Qe.a,{onClick:function(){return Y("training")}},tn("training"))))))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,null,r.a.createElement(pa.a,null,"Penalty (seconds)"),r.a.createElement(rr.a,{type:"number",placeholder:"Penalty for each wrong submission in seconds",defaultValue:X,onChange:function(e){return ee(e.target.valueAsNumber)}}))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,null,r.a.createElement(pa.a,null,"Start Time"),r.a.createElement(_r.a,null,r.a.createElement(rr.a,{type:"date",value:E,onChange:function(e){return v(e.target.value)}}),r.a.createElement(rr.a,{type:"select",value:_,onChange:function(e){return S(Number(e.target.value))}},Object(s.c)(0,24).map((function(e){return r.a.createElement("option",{key:e,value:e},e.toFixed().padStart(2,"0"))}))),r.a.createElement(rr.a,{type:"select",value:O,onChange:function(e){return j(Number(e.target.value))}},Object(s.c)(0,60,5).map((function(e){return r.a.createElement("option",{key:e,value:e},e.toFixed().padStart(2,"0"))})))))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,null,r.a.createElement(pa.a,null,"End Time"),r.a.createElement(_r.a,null,r.a.createElement(rr.a,{type:"date",value:I,onChange:function(e){return F(e.target.value)}}),r.a.createElement(rr.a,{type:"select",value:P,onChange:function(e){return A(Number(e.target.value))}},Object(s.c)(0,24).map((function(e){return r.a.createElement("option",{key:e,value:e},e.toFixed().padStart(2,"0"))}))),r.a.createElement(rr.a,{type:"select",value:T,onChange:function(e){return L(Number(e.target.value))}},Object(s.c)(0,60,5).map((function(e){return r.a.createElement("option",{key:e,value:e},e.toFixed().padStart(2,"0"))})))))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,null,r.a.createElement(pa.a,null,"Expected Participants"," ",r.a.createElement(Pa,{id:"help-expected-participants"},"This list is used for checking if the problems in the list are already solved by each participant.")),r.a.createElement(rr.a,{placeholder:"AtCoder ID list separated by space",value:ae,invalid:ue,onChange:function(e){re(e.target.value)}}),ue&&r.a.createElement(Sr.a,null,ce))),r.a.createElement("h2",{className:"my-3"},"Contest Problemset"),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,null,r.a.createElement(Dr,{onSolvedProblemsFetchFinished:function(e){ie(e||"")},problemModelMap:pe,problemMap:fe,problemSet:G,setProblemSet:H,expectedParticipantUserIds:se}))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,null,r.a.createElement(Or,{problems:fe.valueSeq().toArray(),selectProblem:ve}))),r.a.createElement("h2",{className:"my-3"},"Bacha Gacha"," ",r.a.createElement(Pa,{id:"help-bacha-gacha"},"This is a feature that helps you generate problems by picking problems within certain ranges of difficulties, which is then appended to your problemset.")),r.a.createElement(d.a,null,r.a.createElement(He.a,null,r.a.createElement("div",{style:{padding:8,border:"solid 1px lightgray"}},r.a.createElement(pa.a,null,"Options"),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,null,r.a.createElement(Mr,{problems:fe.valueSeq().toList(),problemModels:pe,selectProblem:ve,expectedParticipantUserIds:se,addButtonDisabled:ue,feedbackForDisabledAddButton:ce&&"Please fix expected participants field first"})))))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,null,r.a.createElement(We.a,{disabled:!Ee,color:Ee?"success":"link",onClick:function(){return e.buttonPush({title:l,memo:m,startSecond:be,endSecond:he,problems:G,mode:J,publicState:V,penaltySecond:X})}},e.buttonTitle))))})),Br=Object(m.connect)((function(){return{createContest:function(e,t){return{createContestResponse:{comparison:null,value:function(){return function(e){return fetch(Gt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return e}))}(e)},andThen:function(e){return{updateResponse:{comparison:null,value:function(){return yr(e.contest_id,t)}}}}}}},createContestResponse:{value:null},updateResponse:{value:null}}}))((function(e){var t,n,a=e.createContestResponse.fulfilled?e.createContestResponse.value:null,l=e.updateResponse.fulfilled?e.updateResponse.value:null;if(null!==a&&null!==l){var o=a.contest_id;return r.a.createElement(i.a,{to:"/contest/show/".concat(o)})}var c=jt(),u=5-c.minutes()%5,m=c.add(u,"minute"),d=Ct(m),f=m.hour(),p=m.minute();return r.a.createElement(Lr,{pageTitle:"Create Contest",initialTitle:null!==(t=e.initialTitle)&&void 0!==t?t:"",initialMemo:"",initialStartDate:d,initialStartHour:f,initialStartMinute:p,initialEndDate:d,initialEndHour:f,initialEndMinute:p,initialProblems:null!==(n=e.initialProblems)&&void 0!==n?n:Object(s.a)(),initialMode:null,initialPublicState:!0,initialPenaltySecond:300,buttonTitle:"Create Contest",buttonPush:function(t){var n=t.title,a=t.memo,r=t.startSecond,l=t.endSecond,o=t.problems,c=t.mode,i=t.publicState,u=t.penaltySecond;return e.createContest({title:n,memo:a,start_epoch_second:r,duration_second:l-r,mode:c,is_public:i,penalty_second:u},o.toArray())}})})),Ur=function(e){var t="https://kenkoooo.com/atcoder/#/contest/show/".concat(e.id),n="https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(t),"&text=").concat(encodeURIComponent(e.text),"&hashtags=AtCoderProblems");return r.a.createElement(We.a,{href:n,rel:"noopener noreferrer",target:"_blank",color:e.color},e.children)},Gr=function(e){var t=Object(a.useState)(e.end-xt()),n=Object(b.a)(t,2),l=n[0],o=n[1];return Object(a.useEffect)((function(){if(!(l<=0)){var t=setInterval((function(){o(e.end-xt())}),1e3);return function(){return clearInterval(t)}}}),[l,e.end]),l<=0?null:r.a.createElement("span",null,wt(l))},Hr=n(102),zr=n.n(Hr),Wr=n(131),Jr=n.n(Wr);var Yr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=e.point,r=t.point;if(a!==r)return r-a;var l=e.lastUpdatedEpochSecond+e.penalties*n,o=t.lastUpdatedEpochSecond+t.penalties*n;if(l!==o)return l-o;var c=e.penalties,i=t.penalties;return c-i},qr=function(e){var t=0,n=0,a=0;return e.forEach((function(e){n+=e.point,t+=e.penalties,e.point&&(a=Math.max(e.lastUpdatedEpochSecond,a))})),{penalties:t,point:n,lastUpdatedEpochSecond:a}},Kr=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{textAlign:"center",margin:0}},r.a.createElement("span",{style:{color:"limegreen",fontWeight:"bold"}},e.maxPoint)," ",r.a.createElement("span",{style:{color:"red"}},0===e.trials?"":"(".concat(e.trials,")"))),r.a.createElement("p",{style:{textAlign:"center",margin:0}},r.a.createElement("span",{style:{color:"gray"}},0===e.maxPoint?"-":wt(e.time))))},Vr=function(e){return void 0===e.estimatedPerformance?null:r.a.createElement("p",{className:$(e.estimatedPerformance),style:{textAlign:"center",fontWeight:"bold"}},K(e.estimatedPerformance))},Zr=function(e){var t,n,a=e.tweetButton,l=e.rank,o=e.userId,c=e.showRating,i=e.showProblems,u=e.sortedItems,s=e.start,m=e.penaltySecond,d=e.reducedProblemResults,f=e.userTotalResult,p=e.estimatedPerformance,b=f?f.lastUpdatedEpochSecond+m*f.penalties-s:0;return r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center align-middle"},l+1),r.a.createElement("th",{className:"text-left align-middle"},r.a.createElement(Xn,{userId:o,showRating:c}),a&&r.a.createElement("div",{className:"text-right"},a)),r.a.createElement("td",null,r.a.createElement(Kr,{trials:null!==(t=null===f||void 0===f?void 0:f.penalties)&&void 0!==t?t:0,maxPoint:null!==(n=null===f||void 0===f?void 0:f.point)&&void 0!==n?n:0,time:b})),i?u.map((function(e){var t=d.get(e.id);if(!t)return r.a.createElement("td",{key:e.id,className:"text-center"},"-");var n=t.accepted?t.penalties:t.trials,a=t.point,l=t.lastUpdatedEpochSecond-s;return r.a.createElement("td",{key:e.id},r.a.createElement(Kr,{trials:n,maxPoint:a,time:l}))})):null,void 0!==p&&r.a.createElement("td",{className:"align-middle"},r.a.createElement(Vr,{estimatedPerformance:p})))};var $r=function(e,t,n){var a=Ba(e.filter((function(e){return"CE"!==e.result})),(function(e){return e.user_id})),r=new Map;return t.forEach((function(e){var t,l=function(e,t){var n=new Map;return e.sort((function(e,t){return e.id-t.id})).forEach((function(e){var a=W(e.result),r=e.problem_id,l=t?t(r):void 0,o=void 0!==l?a?l:0:void 0,c=void 0!==o?o:e.point,i=n.get(e.problem_id),u=e.epoch_second;i?i.point<c?n.set(r,{trials:i.trials+1,accepted:a||i.accepted,point:c,penalties:i.trials,lastUpdatedEpochSecond:u}):n.set(r,Object(g.a)(Object(g.a)({},i),{},{trials:i.trials+1})):n.set(r,{trials:1,accepted:a,point:c,penalties:0,lastUpdatedEpochSecond:u})})),n}(null!==(t=a.get(e))&&void 0!==t?t:[],n);r.set(e,l)})),r};function Qr(e,t){return null!==e.order&&null!==t.order?e.order-t.order:e.id.localeCompare(t.id)}var Xr=Object(m.connect)((function(e){return{submissions:{comparison:null,value:function(){return Ee(e.users,e.problems.map((function(e){return e.item.id})),e.start,e.end).then((function(e){return e.toArray()}))},refreshInterval:e.enableAutoRefresh?6e4:1e9,force:e.enableAutoRefresh},problemMap:{comparison:null,value:function(){return ge().then((function(e){return Kn(e)}))}},problemModels:{comparison:null,value:function(){return ye().then((function(e){return Kn(e)}))}}}}))((function(e){var t,n=e.contestId,a=e.contestTitle,l=e.showRating,o=e.showProblems,c=e.problems,u=e.users,s=e.start,m=e.end,d=e.atCoderUserId,f=e.pinMe,p=e.penaltySecond,h=!!new URLSearchParams(Object(i.h)().search).get("bot"),E=e.problemModels.fulfilled?e.problemModels.value:new Map,v=e.problemMap.fulfilled?e.problemMap.value:new Map,y=[];c.forEach((function(e){var t,n,a,r=e.item,l=r.id,o=null!==(t=null!==(n=r.point)&&void 0!==n?n:null===(a=v.get(l))||void 0===a?void 0:a.point)&&void 0!==t?t:100,c=E.get(l);C(c)&&S(c)&&y.push({problemModel:c,problemId:l,point:o})}));var _=function(e){var t=new Map;return e.forEach((function(e){var n=e.item,a=n.id,r=n.point;null!==r&&t.set(a,r)})),t}(c),k=$r(e.submissions.fulfilled?e.submissions.value:[],u,(function(e){return _.get(e)})),O=e.enableEstimatedPerformances&&y.length===c.length,j=new Set,w=new Map;if(O)for(var x=function(e,t,n){zr.a.use(Jr()("atcoder-problems")),e.sort((function(e,t){return e.problemModel.difficulty-t.problemModel.difficulty}));for(var a=[],r=function(r){var l=new Map,o=t;e.forEach((function(e){for(var t=e.problemModel,a=e.point,c=e.problemId,i=t.rawDifficulty>-1e4,u=t.slope*r+t.intercept,s=i?rt(t,r):1;zr.a.float()>=s&&o<=n;)o+=u;var m=zr.a.logNormal(u,Math.sqrt(t.variance))();m+o>n?o=n:(o+=m,l.set(c,{trials:1,penalties:0,accepted:!0,point:a,lastUpdatedEpochSecond:Math.round(o)}))})),a.push({result:l,rating:r})},l=-1025;l<=4025;l+=5)r(l);return a}(y,s,m),I=0;I<x.length;I++){var F=x[I],M=F.rating,N=F.result,P="Bot: ".concat(K(M));j.add(P),k.set(P,N),w.set(P,M)}var A=new Map;k.forEach((function(e,t){var n=qr(e);A.set(t,n)}));var R=Array.from(A).sort((function(e,t){var n=Object(b.a)(e,2),a=n[0],r=n[1],l=Object(b.a)(t,2),o=l[0],c=l[1],i=Yr(r,c,p);return 0!==i?i:a.localeCompare(o)})).map((function(e){return Object(b.a)(e,1)[0]})),D=new Map;if(O){var T=[],L=[];R.forEach((function(e){var t=w.get(e);void 0!==t&&(T.push(t),L.push(e))}));for(var B=function(e){for(var t=[],n=new Map,a=e.length,r=0;r<a;r++){for(var l=1e4,o=-1e4;Math.round(o)<Math.round(l);){var c=(o+l)/2;if(!n.has(c)){var i,u=0,s=Object(Ke.a)(e);try{for(s.s();!(i=s.n()).done;){var m=i.value;u+=1/(1+Math.pow(6,(c-m)/400))}}catch(d){s.e(d)}finally{s.f()}n.set(c,u)}n.get(c)<r+.5?l=c:o=c}t.push(Math.round(o))}return t}(T),U=0;U<B.length;U++){var G=B[U],H=L[U];D.set(H,G)}}var z=function(e){var t=R.indexOf(e);if(!(t<0)){for(var n,a,r=t;r<R.length;r++){var l=R[r],o=D.get(l);if(void 0!==o){n=o;break}}for(var c=t;c>=0;c--){var i=R[c],u=D.get(i);if(void 0!==u){a=u;break}}return void 0!==a&&void 0!==n?(a+n)/2:void 0!==a?a:void 0!==n?n:void 0}},W=R.filter((function(e){return!j.has(e)||h})),J=W.findIndex((function(e){return e===d})),Y=c.map((function(e){return Object(g.a)({contestId:e.contestId,title:e.title},e.item)})).sort(Qr),V=J+1,Z=m<xt()?r.a.createElement(Ur,{id:n,text:"".concat(d," took ").concat(V+q(V)," place in ").concat(a,"!"),color:"link"},"Share it!"):void 0;return r.a.createElement(Ja.a,{striped:!0,bordered:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-center"},r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Participant"),r.a.createElement("th",null,"Score"),o&&Y.map((function(e,t){return r.a.createElement("th",{key:t},e.contestId&&e.title?r.a.createElement(gn,{problemId:e.id,contestId:e.contestId,problemTitle:"".concat(t+1)}):t+1)})),O&&r.a.createElement("th",null,"Estimated Performance"))),r.a.createElement("tbody",null,f&&J>=0?r.a.createElement(Zr,{tweetButton:Z,userId:d,rank:J,sortedItems:Y,showRating:l,showProblems:o,start:s,estimatedPerformance:z(d),reducedProblemResults:null!==(t=k.get(d))&&void 0!==t?t:new Map,userTotalResult:A.get(d),penaltySecond:p}):null,W.map((function(e,t){var n;return r.a.createElement(Zr,{tweetButton:d===e?Z:void 0,key:e,userId:e,rank:t,sortedItems:Y,showRating:l,showProblems:o,start:s,estimatedPerformance:z(e),reducedProblemResults:null!==(n=k.get(e))&&void 0!==n?n:new Map,userTotalResult:A.get(e),penaltySecond:p})}))))})),el=n(547),tl=n(548),nl=["success","danger","warning","info","primary"],al=Object(m.connect)((function(e){return{submissions:{comparison:null,value:function(){return Ee(e.participants,e.problems.map((function(e){return e.item.id})),e.start,e.end).then((function(e){return e.toArray()}))},refreshInterval:e.enableAutoRefresh?6e4:1e9,force:e.enableAutoRefresh}}}))((function(e){for(var t=e.submissions.fulfilled?e.submissions.value.slice().sort((function(e,t){return e.id-t.id})):[],n=new Map,a=0;a<e.participants.length;a++){var l=nl[a%nl.length];n.set(e.participants[a],l)}var o=new Map,c=new Map;t.filter((function(e){return W(e.result)})).forEach((function(t){if(!o.has(t.problem_id)){var a,r,l,i,u,s=null!==(a=null===(r=e.problems.find((function(e){return e.item.id===t.problem_id})))||void 0===r||null===(l=r.item)||void 0===l?void 0:l.point)&&void 0!==a?a:t.point,m=t.user_id,d=t.epoch_second,f=null!==(i=n.get(m))&&void 0!==i?i:nl[0];o.set(t.problem_id,{point:s,userId:m,epochSecond:d,color:f}),c.set(m,(null!==(u=c.get(m))&&void 0!==u?u:0)+s)}}));for(var i=Math.min(5,Math.ceil(Math.sqrt(e.problems.length))),u=[],s=0;s<e.problems.length;s+=i){for(var m=[],f=s;f<i+s;f++)if(e.problems.length<=f)m.push({problem:void 0,status:void 0});else{var p=e.problems[f],b=o.get(p.item.id);m.push({problem:p,status:b})}u.push(m)}var h=e.participants.map((function(e){var t;return{userId:e,point:null!==(t=c.get(e))&&void 0!==t?t:0}}));return h.sort((function(e,t){return t.point-e.point})),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ja.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"User"),r.a.createElement("th",null,"Pt"))),r.a.createElement("tbody",null,h.map((function(t){var n=t.userId,a=t.point;return r.a.createElement("tr",{key:n},r.a.createElement("th",null,r.a.createElement(Xn,{userId:n,showRating:e.showRating})),r.a.createElement("td",null,a))})))),u.map((function(e,t){return r.a.createElement(d.a,{key:t},e.map((function(e,t){var n=e.problem,a=e.status;return r.a.createElement(He.a,{key:t},n?r.a.createElement(ar.a,{inverse:!!a,color:a?a.color:void 0},r.a.createElement(el.a,{tag:"h3"},n.title&&n.contestId?r.a.createElement(gn,{problemId:n.item.id,contestId:n.contestId,problemTitle:n.title,className:a?"text-white":"text-link"}):n.title),r.a.createElement(tl.a,{className:"text-center"},a?r.a.createElement("h3",null,r.a.createElement("p",null,a.userId),r.a.createElement("p",null,"+ ",a.point," pt")):r.a.createElement("h3",null,n.item.point?"".concat(n.item.point," pt"):null))):null)})))})))})),rl=n(60),ll=n(549),ol=function(e){var t=e.maxPoint,n=e.trials,l=e.problem,o=e.time,c=e.id,i=Object(a.useState)(!1),u=Object(b.a)(i,2),s=u[0],m=u[1],d=c.replace(/[ #]/g,""),f="small-score-cell-".concat(d),p="small-score-cell "+(Object(rl.isNumber)(t)&&Object(rl.isNumber)(n)&&Object(rl.isNumber)(o)?(0===t&&n>0?"small-score-cell-warning ":"")+(t>0?"small-score-cell-success":""):""),h=l.contestId?on(l.id,l.contestId):void 0;return r.a.createElement(fn,{href:h},r.a.createElement("div",{className:p,id:f,onMouseOver:function(){return m(!0)},onMouseLeave:function(){return m(!1)}},r.a.createElement(ll.a,{isOpen:s,placement:"top",target:"#"+f},r.a.createElement("div",{className:"small-score-cell-tooltip"},l.contestId&&l.title?r.a.createElement(gn,{problemId:l.id,contestId:l.contestId,problemTitle:l.title}):r.a.createElement("b",null,l.title),r.a.createElement("br",null),Object(rl.isNumber)(t)&&Object(rl.isNumber)(n)&&Object(rl.isNumber)(o)?r.a.createElement(Kr,{maxPoint:t,time:o,trials:n}):null))))},cl=Object(m.connect)((function(e){return{submissions:{comparison:null,value:function(){return Ee(e.users,e.problems.map((function(e){return e.item.id})),e.start,e.end).then((function(e){return e.toArray()}))},refreshInterval:e.enableAutoRefresh?6e4:1e9,force:e.enableAutoRefresh}}}))((function(e){var t=e.showRating,n=e.showProblems,a=e.problems,l=e.users,o=e.start,c=$r(e.submissions.fulfilled?e.submissions.value:[],l,(function(){return 1})),i=new Map;c.forEach((function(e,t){var n=qr(e);i.set(t,n)}));var u=Array.from(i).sort((function(e,t){var n=Object(b.a)(e,2),a=n[0],r=n[1],l=Object(b.a)(t,2),o=l[0],c=l[1],i=Yr(r,c);return 0!==i?i:a.localeCompare(o)})).map((function(e){return Object(b.a)(e,1)[0]})),s=a.map((function(e){return Object(g.a)({contestId:e.contestId,title:e.title},e.item)})).sort(Qr);return r.a.createElement(Ja.a,{striped:!0},r.a.createElement("thead",null,r.a.createElement("tr",{className:"text-center"},r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Participant"),r.a.createElement("th",null,"Score"),r.a.createElement("th",null,"Progress"))),r.a.createElement("tbody",null,u.map((function(e,a){var l=c.get(e),i=s.length,u=Array.from(null!==l&&void 0!==l?l:[]).filter((function(e){return Object(b.a)(e,2)[1].accepted})).length;return r.a.createElement("tr",{key:a},r.a.createElement("th",{className:"text-center"},a+1),r.a.createElement("th",null,r.a.createElement(Xn,{userId:e,showRating:t})),r.a.createElement("td",{className:"text-center"},r.a.createElement(nt.a,null,u," / ",i)),r.a.createElement("td",{style:{lineHeight:0,minWidth:"15rem",verticalAlign:"middle"}},n?s.map((function(t,n){var a=null===l||void 0===l?void 0:l.get(t.id);if(!a)return r.a.createElement(ol,{key:t.id,problem:t,id:"".concat(e,"-").concat(n)});var c=a.accepted?a.penalties:a.trials;return r.a.createElement(ol,{key:t.id,problem:t,trials:c,maxPoint:a.point,time:a.lastUpdatedEpochSecond-o,id:"".concat(e,"-").concat(n)})})):null))}))))})),il=Object(m.connect)((function(e){return{problemModelGet:{comparison:null,value:function(){return ye()}},userInfoGet:{url:Pt},contestInfoFetch:{force:!0,url:Rt(e.contestId)},problemMapFetch:{comparison:null,value:function(){return ge()}},joinContest:function(){return{joinContestPost:{url:Lt,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contest_id:e.contestId}),andThen:function(){return{contestInfoFetch:{url:Rt(e.contestId),force:!0}}},force:!0}}},joinContestPost:{value:null},leaveContest:function(){return{leaveContestPost:{url:Bt,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contest_id:e.contestId}),andThen:function(){return{contestInfoFetch:{url:Rt(e.contestId),force:!0}}},force:!0}}},leaveContestPost:{value:null}}}))((function(e){var t=Object(a.useState)(!1),n=Object(b.a)(t,2),l=n[0],o=n[1],u=ut("showRating",!1),m=Object(b.a)(u,2),f=m[0],p=m[1],h=ut("pinMe",!1),E=Object(b.a)(h,2),v=E[0],y=E[1],_=Object(a.useState)(!0),S=Object(b.a)(_,2),C=S[0],k=S[1],O=Object(i.g)(),j=e.contestInfoFetch,w=e.userInfoGet,x=e.problemMapFetch;if(j.pending)return r.a.createElement(Hn.a,{style:{width:"3rem",height:"3rem"}});if(j.rejected)return r.a.createElement(zn.a,{color:"danger"},"Failed to fetch contest info.");var I=x.fulfilled?x.value:Object(s.b)(),F=j.value,M=F.info,N=F.participants,P=F.problems,A=w.fulfilled&&w.value?w.value.atcoder_user_id:null,R=w.fulfilled&&w.value?w.value.internal_user_id:null,D=A||"",T=null!==R,L=""!==D,B=M.start_epoch_second,U=M.start_epoch_second+M.duration_second,G=M.penalty_second,H=L&&N.includes(D),z=xt(),W=!H&&L&&z<U,J=H&&L&&z<B,Y=M.owner_user_id===R,q=P.length<10,K=B<z,V=P.map((function(e){var t=I.get(e.id);return t?{item:e,contestId:t.contest_id,title:t.title}:{item:e}})),Z=V.map((function(e){return Object(g.a)({contestId:e.contestId,title:e.title},e.item)})).sort(Qr);return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:"mb-2"},r.a.createElement(He.a,{md:"auto"},r.a.createElement("h1",null,M.title)),r.a.createElement(He.a,{md:"auto",className:"align-items-center d-flex"},r.a.createElement(nt.a,{color:M.is_public?"success":"danger"},nn(M.is_public)),r.a.createElement(nt.a,null,"Mode: ",tn(M.mode)))),r.a.createElement(d.a,null,r.a.createElement(He.a,null,r.a.createElement("h4",null,M.memo))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{lg:"6",md:"12"},r.a.createElement(Ja.a,{className:"mb-0"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Time"),r.a.createElement("td",null,Ot(_t(B))," -"," ",Ot(_t(U)))),r.a.createElement("tr",null,r.a.createElement("th",null,"Penalty"),r.a.createElement("td",null,G," seconds for each wrong submission"))))),r.a.createElement(He.a,{lg:"6",md:"12"},r.a.createElement(Ja.a,{className:"mb-0"},r.a.createElement("tbody",null,B<z&&z<U?r.a.createElement("tr",null,r.a.createElement("th",null,"Remaining"),r.a.createElement("td",null,r.a.createElement(Gr,{end:U}))):null)))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{sm:"12"},T?L?null:r.a.createElement(zn.a,{color:"warning"},"Please set the AtCoder ID from"," ",r.a.createElement(c.c,{to:"/login/user"},"here"),", before you join the contest."):r.a.createElement(zn.a,{color:"warning"},"Please ",r.a.createElement("a",{href:un},"Login")," before you join the contest."),r.a.createElement(ze.a,null,W?r.a.createElement(We.a,{onClick:function(){return e.joinContest()}},"Join"):null,J?r.a.createElement(We.a,{onClick:function(){return e.leaveContest()}},"Leave"):null,Y?r.a.createElement(We.a,{onClick:function(){return O.push({pathname:"/contest/update/".concat(M.id)})}},"Edit"):null,r.a.createElement(Ur,{id:M.id,text:M.title,color:"primary"},"Tweet")))),K&&"Normal"===tn(M.mode)&&r.a.createElement("div",{className:"my-2"},r.a.createElement(d.a,null,r.a.createElement(He.a,null,r.a.createElement("div",{style:{display:"flex",flexFlow:"row wrap",alignItems:"center"}},r.a.createElement("h3",null,"Problems"),r.a.createElement(We.a,{color:"secondary",size:"sm",onClick:function(){return k(!C)},className:"mx-3"},r.a.createElement(Ha.g,{icon:C?Ha.c:Ha.b}))))),r.a.createElement(d.a,null,r.a.createElement(He.a,null,r.a.createElement(fr.a,{isOpen:C},r.a.createElement(Ja.a,{striped:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," "),r.a.createElement("th",null,"Problem Name"),r.a.createElement("th",{className:"text-center"},"Score"))),r.a.createElement("tbody",null,Z.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",{className:"text-center"},e.contestId&&e.title?r.a.createElement(gn,{problemId:e.id,contestId:e.contestId,problemTitle:"".concat(t+1)}):t+1),r.a.createElement("td",null,e.contestId&&e.title?r.a.createElement(gn,{problemId:e.id,contestId:e.contestId,problemTitle:e.title}):e.id),r.a.createElement("td",{className:"text-center"},null!==e.point&&e.point))})))))))),r.a.createElement("div",{className:"my-2"},r.a.createElement(d.a,null,r.a.createElement(He.a,null,r.a.createElement(pr.a,{inline:!0},r.a.createElement("h3",null,"Standings"),r.a.createElement(fa.a,{inline:!0,className:"ml-3"},r.a.createElement(ba.a,{type:"switch",id:"autoRefresh",label:"Auto Refresh",inline:!0,checked:l,onChange:function(){return o(!l)}}),r.a.createElement(ba.a,{type:"switch",id:"showRating",label:"Show Rating",inline:!0,checked:f,onChange:function(){return p(!f)}}),H&&r.a.createElement(ba.a,{type:"switch",id:"pinMe",label:"Pin me",inline:!0,checked:v,onChange:function(){return y(!v)}}))))),r.a.createElement(d.a,null,r.a.createElement(He.a,{sm:"12"},"lockout"===M.mode?r.a.createElement(al,{showRating:f,showProblems:K,problems:V,participants:N,enableAutoRefresh:l,start:B,end:U}):"training"===M.mode?r.a.createElement(cl,{showRating:f,showProblems:K,problems:V,users:N,start:B,end:U,enableAutoRefresh:l}):r.a.createElement(Xr,{contestId:M.id,contestTitle:M.title,showRating:f,showProblems:K,problems:V,users:N,enableEstimatedPerformances:q,start:B,end:U,enableAutoRefresh:l,atCoderUserId:D,pinMe:v,penaltySecond:G})))))})),ul=n(550),sl=Object(m.connect)((function(){return{myListFetch:Wt,createListFetch:{value:null},createNewList:function(){return{createListFetch:{url:Jt,method:"POST",body:JSON.stringify({list_name:"New List"})}}},deleteList:function(e){return{deleteResponse:{url:Yt,method:"POST",body:JSON.stringify({internal_list_id:e}),andThen:function(){return{myListFetch:{url:Wt,refreshing:!0,force:!0}}}}}},deleteResponse:{value:null}}}))((function(e){var t=e.createListFetch,n=e.myListFetch;if(t.fulfilled&&null!==t.value){var a=t.value.internal_list_id;return r.a.createElement(i.a,{to:"/problemlist/".concat(a)})}if(n.pending)return r.a.createElement(Hn.a,{style:{width:"3rem",height:"3rem"}});if(n.rejected||!n.value)return r.a.createElement(zn.a,{color:"danger"},"Failed to fetch list info.");var l=n.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{sm:"12"},r.a.createElement(We.a,{color:"success",onClick:function(){return e.createNewList()}},"Create New List"))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{sm:"12"},r.a.createElement(za.a,null,l.map((function(t){var n=t.internal_list_id,a=t.internal_list_name,l=t.items;return r.a.createElement(ml,{key:n,internalListId:n,internalListName:a,listItemCount:l.length,deleteList:e.deleteList})}))))))})),ml=function(e){var t=Object(a.useState)(!1),n=Object(b.a)(t,2),l=n[0],o=n[1],i=function(){return o(!l)};return r.a.createElement(Wa.a,null,r.a.createElement(We.a,{style:{float:"right"},color:"danger",onClick:function(){return o(!0)}},"Remove"),r.a.createElement(Nr.a,{isOpen:l,toggle:i},r.a.createElement(Pr.a,{toggle:i},"Remove ",e.internalListName,"?"),r.a.createElement(Ar.a,null,"Do you really want to remove ",e.internalListName,"?"),r.a.createElement(ul.a,null,r.a.createElement(We.a,{color:"danger",onClick:function(){i(),e.deleteList(e.internalListId)}},"Remove")," ",r.a.createElement(We.a,{color:"secondary",onClick:i},"Cancel"))),r.a.createElement(Cr.a,null,r.a.createElement(c.b,{to:"/problemlist/".concat(e.internalListId)},e.internalListName.length>0?e.internalListName:"(no name)")),r.a.createElement(kr.a,null,r.a.createElement(nt.a,{pill:!0},e.listItemCount)))},dl=function(e){return r.a.createElement(f.BootstrapTable,{data:e.contests,pagination:!0,keyField:"id",height:"auto",hover:!0,striped:!0,options:{paginationPosition:"top",sizePerPage:10,sizePerPageList:[{text:"10",value:10},{text:"20",value:20},{text:"50",value:50},{text:"200",value:200},{text:"All",value:e.contests.length}]}},r.a.createElement(f.TableHeaderColumn,{dataField:"title",dataFormat:function(e,t){return r.a.createElement(c.b,{to:"/contest/show/".concat(t.id)},r.a.createElement(nt.a,{pill:!0,color:t.is_public?"success":"danger"},nn(t.is_public))," ",e)}},"Title"),r.a.createElement(f.TableHeaderColumn,{dataField:"memo"},"Description"),r.a.createElement(f.TableHeaderColumn,{dataField:"mode",dataFormat:function(e){return tn(e)}},"Mode"),r.a.createElement(f.TableHeaderColumn,{dataField:"start_epoch_second",dataFormat:function(e,t){var n=_t(t.start_epoch_second);return Ot(n)}},"Start"),r.a.createElement(f.TableHeaderColumn,{dataField:"end_epoch_second",dataFormat:function(e,t){var n=_t(t.start_epoch_second+t.duration_second);return Ot(n)}},"End"),r.a.createElement(f.TableHeaderColumn,{dataField:"duration",dataFormat:function(e,t){return function(e,t){var n=xt();if(e+t<=n||n<e){var a=Math.floor(t/60);return"".concat(Math.floor(a/60))+":"+"0".concat(a%60).slice(-2)}return r.a.createElement(Gr,{end:t+e})}(t.start_epoch_second,t.duration_second)}},"Duration"))},fl=Object(m.connect)((function(){return{ownedContestsGet:{url:Dt},joinedContestsGet:{url:Ut}}}))((function(e){var t=Object(i.g)(),n=e.joinedContestsGet.fulfilled?e.joinedContestsGet.value:[],a=e.ownedContestsGet.fulfilled?e.ownedContestsGet.value:[];return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{sm:"12"},r.a.createElement(We.a,{color:"success",onClick:function(){t.push({pathname:"/contest/create"})}},"Create New Contest"))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{sm:"12"},r.a.createElement("h2",null,"My Contests"))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{sm:"12"},r.a.createElement(dl,{contests:a?a.sort((function(e,t){return t.start_epoch_second+t.duration_second-e.start_epoch_second-e.duration_second})):[]}))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{sm:"12"},r.a.createElement("h2",null,"Joined Contests"))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{sm:"12"},r.a.createElement(dl,{contests:n?n.sort((function(e,t){return t.start_epoch_second+t.duration_second-e.start_epoch_second-e.duration_second})):[]}))))})),pl=Object(m.connect)((function(){return{progressResetList:{url:Qt},problems:{comparison:null,value:function(){return Se().then((function(e){return e.valueSeq().toArray()}))}},addResetProgressResponse:{value:null},addResetProgress:function(e){return{addResetProgressResponse:{force:!0,refreshing:!0,url:Xt,method:"POST",body:JSON.stringify({problem_id:e,reset_epoch_second:Math.floor((new Date).getTime()/1e3)}),andThen:function(){return{progressResetList:{force:!0,url:Qt}}}}}},deleteResetProgress:function(e){return{deleteResetProgressResponse:{force:!0,refreshing:!0,url:en,method:"POST",body:JSON.stringify({problem_id:e}),andThen:function(){return{progressResetList:{force:!0,url:Qt}}}}}},deleteResetProgressResponse:{value:null}}}))((function(e){var t=e.progressResetList.fulfilled&&e.progressResetList.value?e.progressResetList.value.items:[];t.sort((function(e,t){return e.reset_epoch_second-t.reset_epoch_second}));var n=e.problems.fulfilled?e.problems.value:[];return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{sm:"12"},r.a.createElement("h2",null,"Reset Progress"))),r.a.createElement(d.a,null,r.a.createElement(He.a,{sm:"12"},r.a.createElement(Or,{problems:n,selectProblem:function(t){return e.addResetProgress(t.id)}}))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{sm:"12"},r.a.createElement(Ja.a,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Problem"),r.a.createElement("th",null,"Reset at"),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,t.map((function(t){var a=n.find((function(e){return e.id===t.problem_id}));return r.a.createElement("tr",{key:t.problem_id},r.a.createElement("td",null,a?r.a.createElement(gn,{problemId:a.id,contestId:a.contest_id,problemTitle:a.title}):t.problem_id),r.a.createElement("td",null,kt(_t(t.reset_epoch_second))),r.a.createElement("td",null,r.a.createElement(We.a,{color:"danger",onClick:function(){return e.deleteResetProgress(t.problem_id)}},r.a.createElement(Ha.g,{icon:Ha.e}))))})))))))})),bl=function(e){return r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.onSubmit()}},r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{sm:"12"},r.a.createElement("h2",null,"Account Info"))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{sm:"12"},r.a.createElement(pa.a,null,"AtCoder User ID"),r.a.createElement(rr.a,{type:"text",placeholder:"AtCoder User ID",value:e.userId,pattern:"[a-zA-Z0-9_]*",onChange:function(t){return e.setUserId(t.target.value)}}))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{sm:"12"},r.a.createElement(We.a,{disabled:"updating"===e.status,as:"button",type:"submit"},"updating"===e.status?"Updating...":"Update"))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{sm:"12"},r.a.createElement(zn.a,{color:"success",isOpen:"updated"===e.status},"Updated"))))},hl=Object(m.connect)((function(){return{userInfoGet:{url:Pt},updateUserInfo:function(e){return{updateUserInfoResponse:{force:!0,refreshing:!0,url:At,method:"POST",body:JSON.stringify({atcoder_user_id:e})}}},updateUserInfoResponse:{value:null}}}))((function(e){var t=e.userInfoGet,n=e.updateUserInfoResponse,l=Object(a.useState)(""),o=Object(b.a)(l,2),u=o[0],s=o[1],m=Object(i.i)().path,d=Object(i.h)().pathname;if(Object(a.useEffect)((function(){var e;t.fulfilled&&t.value&&s(null!==(e=t.value.atcoder_user_id)&&void 0!==e?e:"")}),[t.fulfilled]),t.rejected||n.rejected)return r.a.createElement(i.a,{to:"/"});if(t.pending)return r.a.createElement(Hn.a,{style:{width:"3rem",height:"3rem"}});var f=n.refreshing,p=!f&&n.fulfilled&&null!==n.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Wn.a,{tabs:!0},r.a.createElement(Jn.a,null,r.a.createElement(Yn.a,{tag:c.b,to:m,active:m===d},"Account Info")),r.a.createElement(Jn.a,null,r.a.createElement(Yn.a,{tag:c.b,to:"".concat(m,"/contests"),active:"".concat(m,"/contests")===d},"My Contests")),r.a.createElement(Jn.a,null,r.a.createElement(Yn.a,{tag:c.b,to:"".concat(m,"/my_lists"),active:"".concat(m,"/my_lists")===d},"My Lists")),r.a.createElement(Jn.a,null,r.a.createElement(Yn.a,{tag:c.b,to:"".concat(m,"/reset"),active:"".concat(m,"/reset")===d},"Reset Progress"))),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:m},r.a.createElement(bl,{userId:u,setUserId:s,onSubmit:function(){return e.updateUserInfo(u)},status:f?"updating":p?"updated":"open"})),r.a.createElement(i.b,{exact:!0,path:"".concat(m,"/contests")},r.a.createElement(fl,null)),r.a.createElement(i.b,{exact:!0,path:"".concat(m,"/my_lists")},r.a.createElement(sl,null)),r.a.createElement(i.b,{exact:!0,path:"".concat(m,"/reset")},r.a.createElement(pl,null))))})),El=Object(m.connect)((function(){return{contestListGet:{url:Ht},userInfoGet:{url:Pt}}}))((function(e){var t=Object(i.g)(),n=e.contestListGet.fulfilled?e.contestListGet.value.sort((function(e,t){return t.start_epoch_second-e.start_epoch_second})):[],a=xt(),l=n.filter((function(e){return e.start_epoch_second>a})),o=n.filter((function(e){return e.start_epoch_second<=a&&a<e.start_epoch_second+e.duration_second})),c=n.filter((function(e){return e.start_epoch_second+e.duration_second<=a}));return r.a.createElement(r.a.Fragment,null,e.userInfoGet.fulfilled&&e.userInfoGet.value?r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{sm:"12"},r.a.createElement(We.a,{color:"success",onClick:function(){t.push({pathname:"/contest/create"})}},"Create New Contest"))):null,r.a.createElement(d.a,{className:"my-2  border-bottom"},r.a.createElement(He.a,{sm:"12"},r.a.createElement("h2",null,"Running Contests"))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{sm:"12"},r.a.createElement(dl,{contests:o.sort((function(e,t){return e.start_epoch_second+e.duration_second-(t.start_epoch_second+t.duration_second)}))}))),r.a.createElement(d.a,{className:"mt-5 border-bottom"},r.a.createElement(He.a,{sm:"12"},r.a.createElement("h2",null,"Upcoming Contests"))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{sm:"12"},r.a.createElement(dl,{contests:l.sort((function(e,t){return e.start_epoch_second-t.start_epoch_second}))}))),r.a.createElement(d.a,{className:"mt-5 border-bottom"},r.a.createElement(He.a,{sm:"12"},r.a.createElement("h2",null,"Recent Contests"))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{sm:"12"},r.a.createElement(dl,{contests:c.sort((function(e,t){return t.start_epoch_second+t.duration_second-(e.start_epoch_second+e.duration_second)}))}))))})),vl=Object(m.connect)((function(e){return{contestInfoFetch:{url:Rt(e.contestId)},updateContest:function(t,n){return{updateResponse:{comparison:null,value:function(){return function(e){return fetch(Tt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}(t).then((function(){return yr(e.contestId,n)}))}}}},updateResponse:{value:null}}}))((function(e){var t=e.contestId,n=e.contestInfoFetch,a=e.updateResponse;if(n.pending)return r.a.createElement(Hn.a,{style:{width:"3rem",height:"3rem"}});if(n.rejected||!n.value)return r.a.createElement(zn.a,{color:"danger"},"Failed to fetch contest info.");var l=n.value,o=l.info,c=l.problems;if(a.fulfilled&&null!==a.value)return r.a.createElement(i.a,{to:"/contest/show/".concat(t)});var u=_t(o.start_epoch_second),m=_t(o.start_epoch_second+o.duration_second),d=c.sort((function(e,t){return null!==e.order&&null!==t.order?e.order-t.order:e.id.localeCompare(t.id)}));return r.a.createElement(Lr,{pageTitle:"Update Contest",initialTitle:o.title,initialMemo:o.memo,initialStartDate:Ct(u),initialStartHour:u.hour(),initialStartMinute:u.minute(),initialEndDate:Ct(m),initialEndHour:m.hour(),initialEndMinute:m.minute(),initialProblems:Object(s.a)(d),initialMode:o.mode,initialPublicState:o.is_public,initialPenaltySecond:o.penalty_second,buttonTitle:"Update",buttonPush:function(n){var a=n.title,r=n.memo,l=n.startSecond,o=n.endSecond,c=n.problems,i=n.mode,u=n.publicState,s=n.penaltySecond;e.updateContest({id:t,title:a,memo:r,start_epoch_second:l,duration_second:o-l,mode:i,is_public:u,penalty_second:s},c.toArray())}})})),gl=Object(m.connect)((function(e){return{userInfoFetch:Pt,problemListFetch:$t(e.listId),updateList:function(t){return{updateListResponse:{url:qt,method:"POST",body:JSON.stringify({internal_list_id:e.listId,name:t}),force:!0}}},updateListResponse:{value:null},problems:{comparison:null,value:function(){return Se()}},addItem:function(t){return{problemListFetch:{url:Zt,method:"POST",body:JSON.stringify({internal_list_id:e.listId,problem_id:t}),then:function(){return $t(e.listId)}}}},deleteItem:function(t){return{problemListFetch:{url:Vt,method:"POST",body:JSON.stringify({internal_list_id:e.listId,problem_id:t}),then:function(){return $t(e.listId)}}}},updateItem:function(t,n){return{problemListFetch:{url:Kt,method:"POST",body:JSON.stringify({internal_list_id:e.listId,problem_id:t,memo:n}),then:function(){return $t(e.listId)}}}}}}))((function(e){var t=Object(a.useState)(!1),n=Object(b.a)(t,2),l=n[0],o=n[1],c=Object(a.useState)(!1),i=Object(b.a)(c,2),u=i[0],m=i[1],f=e.problemListFetch,p=e.userInfoFetch,h=p.fulfilled&&p.value?p.value.internal_user_id:null;if(f.pending)return r.a.createElement(Hn.a,{style:{width:"3rem",height:"3rem"}});if(f.rejected||!f.value)return r.a.createElement(zn.a,{color:"danger"},"Failed to fetch list info.");var E=f.value,v=E.internal_user_id===h,g=e.problems.fulfilled?e.problems.value.valueSeq().toArray():[];return u?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:"mt-2 mb-4"},r.a.createElement(We.a,{color:"danger",outline:!0,onClick:function(){return m(!1)}},"Cancel")),r.a.createElement(Br,{initialProblems:Object(s.a)(E.items.map((function(e){return{id:e.problem_id,order:null,point:null}})))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{sm:"12"},r.a.createElement("h2",null,r.a.createElement(_l,{modifiable:v,saveText:function(t){return e.updateList(t)},initialText:E.internal_list_name})))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{sm:"12"},l?r.a.createElement(Or,{problems:g,selectProblem:function(t){e.addItem(t.id)}}):v?r.a.createElement(We.a,{color:"success",onClick:function(){return o(!l)}},"Add"):null)),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{sm:"12"},r.a.createElement(We.a,{onClick:function(){return m(!0)}},"Create Virtual Contest"))),r.a.createElement(d.a,{className:"my-2"},r.a.createElement(He.a,{sm:"12"},r.a.createElement(za.a,null,E.items.map((function(t){var n=g.find((function(e){return e.id===t.problem_id}));return r.a.createElement(yl,{modifiable:v,key:t.problem_id,item:t,problem:n,saveText:function(n){return e.updateItem(t.problem_id,n)},deleteItem:function(){return e.deleteItem(t.problem_id)}})}))))))})),yl=function(e){var t=e.item,n=e.problem,l=Object(a.useState)(!1),o=Object(b.a)(l,2),c=o[0],i=o[1],u=Object(a.useState)(t.memo),s=Object(b.a)(u,2),m=s[0],d=s[1];return r.a.createElement(Wa.a,{onDoubleClick:function(){e.modifiable&&i(!0)}},e.modifiable?r.a.createElement(ze.a,{style:{float:"right"}},c?r.a.createElement(We.a,{color:"success",onClick:function(){i(!1),e.saveText(m)}},"Save"):r.a.createElement(We.a,{onClick:function(){return i(!0)}},"Edit"),c?null:r.a.createElement(We.a,{color:"danger",onClick:function(){return e.deleteItem()}},"Remove")):null,r.a.createElement(Cr.a,null,n?r.a.createElement(fn,{href:on(n.id,n.contest_id)},n.title):t.problem_id),r.a.createElement(kr.a,null,c?r.a.createElement(rr.a,{type:"textarea",value:m,onChange:function(e){return d(e.target.value)},onKeyDown:function(t){t.ctrlKey&&"Enter"===t.key&&(i(!1),e.saveText(m))}}):r.a.createElement("pre",null,m)))},_l=function(e){var t=Object(a.useState)(e.initialText),n=Object(b.a)(t,2),l=n[0],o=n[1],c=Object(a.useState)(!1),i=Object(b.a)(c,2),u=i[0],s=i[1];return r.a.createElement(r.a.Fragment,null,u?r.a.createElement(r.a.Fragment,null,r.a.createElement(rr.a,{type:"text",value:l,onChange:function(e){return o(e.target.value)},onBlur:function(){s(!u),e.saveText(l)},onKeyDown:function(t){"Enter"===t.key&&(s(!u),e.saveText(l))}}),r.a.createElement(We.a,{color:"success",onClick:function(){s(!u),e.saveText(l)}},"Save")):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onDoubleClick:function(){e.modifiable&&s(!u)}},l.length>0?l:"(empty)")," ",r.a.createElement(We.a,{onClick:function(){e.modifiable&&s(!u)}},"Edit Title")))},Sl=Object(m.connect)((function(){return{submissions:{comparison:null,value:Ft},problemModels:{comparison:null,value:function(){return ye().then((function(e){return Kn(e)}))}},problems:{comparison:null,value:function(){return Se().then((function(e){return e.valueSeq().toArray()}))}}}}))((function(e){if(e.submissions.pending)return r.a.createElement(Hn.a,{style:{width:"3rem",height:"3rem"}});if(e.submissions.rejected)return r.a.createElement(zn.a,{color:"danger"},"Failed to fetch contest info.");var t=e.submissions.value.sort((function(e,t){return t.id-e.id})),n=e.problems.fulfilled?e.problems.value:[],a=e.problemModels.fulfilled?e.problemModels.value:new Map;return r.a.createElement(d.a,null,r.a.createElement("h1",null,"Recent Submissions"),r.a.createElement(qn,{submissions:t,problems:n,problemModels:a}))})),Cl=n(552),kl=n(553),Ol=function(e){var t=e.submissions.filter((function(e){return W(e.result)})).reduce((function(e,t){return e.add(t.problem_id),e}),new Set),n=Object(i.i)().url;return r.a.createElement(u.a,{fluid:!0},r.a.createElement(d.a,null,r.a.createElement("h1",null,"Training")),e.courses.map((function(e,a){var l,o=e.set_list.map((function(e){return e.problems.length})).reduce((function(e,t){return e+t}),0),i=e.set_list.map((function(e){return e.problems.filter((function(e){return t.has(e.problem_id)})).length})).reduce((function(e,t){return e+t}),0),s=(l=i/o,Math.round(1e4*l)/100);return r.a.createElement(Cl.a,{key:a,fluid:!0},r.a.createElement(u.a,{fluid:!0},r.a.createElement("h3",{className:"display-4"},e.title),r.a.createElement(kl.a,{striped:!0,color:"success",value:s},s," %"),r.a.createElement("p",{className:"lead"},e.set_list.length," sets /"," ",e.set_list.map((function(e){return e.problems.length})).reduce((function(e,t){return e+t}),0)," ","problems"),r.a.createElement("ul",null,e.set_list.map((function(e,n){var a=e.problems.filter((function(e){return t.has(e.problem_id)})).length;return r.a.createElement("li",{key:n,className:"lead"},e.title," ",r.a.createElement(nt.a,{color:a===e.problems.length?"success":"secondary"},a," / ",e.problems.length))}))),r.a.createElement("p",{className:"lead"},r.a.createElement(We.a,{size:"lg",color:"success",tag:c.b,to:"".concat(n,"/").concat(e.title)},"Challenge"))))})))},jl=function(e){var t=e.submissions.filter((function(e){return W(e.result)})).reduce((function(e,t){return e.set(t.problem_id,t),e}),new Map);return r.a.createElement(Ja.a,{striped:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"10%",textAlign:"right"}},"#"),r.a.createElement("th",{style:{width:"10%"}},"Status"),r.a.createElement("th",null,"Problem"),r.a.createElement("th",{style:{width:"10%"}},"Solution"))),r.a.createElement("tbody",null,e.problems.map((function(n,a){var l=t.get(n.id),o=e.models.get(n.id);return r.a.createElement("tr",{key:a},r.a.createElement("th",{scope:"row",style:{width:"10%",textAlign:"right"}},a+1),r.a.createElement("td",{className:"text-success"},l?r.a.createElement(Ha.g,{icon:Ha.a}):null),r.a.createElement("td",null,r.a.createElement(gn,{problemId:n.id,problemTitle:n.title,contestId:n.contest_id,problemModel:o,isExperimentalDifficulty:!!o&&o.is_experimental,showDifficulty:void 0!==l,showDifficultyUnavailable:!0})),r.a.createElement("td",null,l?r.a.createElement(fn,{href:ln(l.id,l.contest_id)},r.a.createElement(Ha.g,{icon:Ha.d})):null))}))))},wl=function(e){var t=[{value:e.solved,color:"#32cd32",name:"AC"},{value:e.total-e.solved,color:"#58616a",name:"NoSub"}];return r.a.createElement("div",null,r.a.createElement(na,{data:t}),r.a.createElement("h5",null,e.title))},xl=Object(m.connect)((function(){return{problems:{comparison:null,value:function(){return Se().then((function(e){return Kn(e)}))}},models:{comparison:null,value:function(){return ye().then((function(e){return Kn(e)}))}}}}))((function(e){var t,n,a=e.course,l=e.selectedSet,o=a.set_list;o.sort((function(e,t){return e.order-t.order}));var i=null!==(t=null===(n=o.find((function(e){return e.order===l})))||void 0===n?void 0:n.problems)&&void 0!==t?t:[];i.sort((function(e,t){return e.order-t.order}));var s=e.submissions,m=s.filter((function(e){return W(e.result)})).reduce((function(e,t){return e.add(t.problem_id),e}),new Set),f=e.problems.fulfilled?e.problems.value:void 0,p=e.models.fulfilled?e.models.value:new Map,b=i.map((function(e){return null===f||void 0===f?void 0:f.get(e.problem_id)})).filter((function(e){return void 0!==e}));return r.a.createElement(u.a,{fluid:!0},r.a.createElement(d.a,{className:"my-2"},r.a.createElement("h2",null,a.title)),r.a.createElement(d.a,{className:"my-2"},o.map((function(e,t){return r.a.createElement(He.a,{key:t,className:"text-center",xs:"6",md:12/o.length},r.a.createElement(wl,{title:e.title,solved:e.problems.filter((function(e){return m.has(e.problem_id)})).length,total:e.problems.length}))}))),r.a.createElement(Wn.a,{tabs:!0},o.map((function(e,t){return r.a.createElement(Jn.a,{key:t},r.a.createElement(Yn.a,{active:l===e.order,tag:c.b,to:"/training/".concat(a.title,"/").concat(e.order),style:{color:"black"}},r.a.createElement("h3",null,e.title)))}))),r.a.createElement(d.a,null,r.a.createElement(jl,{problems:b,models:p,submissions:s})))})),Il=function(e){return e.loading?r.a.createElement(zn.a,{color:"primary"},"Loading user info..."):e.user?e.user.atcoder_user_id?r.a.createElement(zn.a,{color:"success"},"Training as ",e.user.atcoder_user_id):r.a.createElement(zn.a,{color:"warning"},r.a.createElement(c.b,{to:"/login/user"},"Set your AtCoder ID.")):r.a.createElement(zn.a,{color:"danger"},r.a.createElement("a",{href:un},"Login")," to record your progress.")},Fl=Object(m.connect)((function(){return{courses:{comparison:null,value:function(){return function(){return Promise.all([(e="boot_camp_for_beginners.json",fetch("".concat("/atcoder/static_data/courses","/").concat(e)).then((function(e){return e.json()})))]);var e}()}},progress:{comparison:null,value:function(){return fetch(Pt).then((function(e){return e.json()})).then((function(e){return e&&e.atcoder_user_id?je(e.atcoder_user_id).then((function(e){return e.toArray()})).then((function(t){return{user:e,submissions:t}})):e?{user:e,submissions:[]}:{user:void 0,submissions:[]}}))}}}}))((function(e){var t=Object(i.i)().path;if(e.courses.pending)return r.a.createElement(Hn.a,{style:{width:"3rem",height:"3rem"}});if(e.courses.rejected)return r.a.createElement(zn.a,{color:"danger"},"Failed to fetch course info.");var n=e.progress.fulfilled?e.progress.value:{user:void 0,submissions:[]},a=n.user,l=n.submissions,o=e.progress.pending,c=e.courses.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Il,{user:a,loading:o}),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:t},r.a.createElement(Ol,{submissions:l,courses:c})),r.a.createElement(i.b,{path:"".concat(t,"/:courseTitle/:setListOrder?"),render:function(e){var t=e.match,n=t.params.courseTitle,a=t.params.setListOrder,o=c.find((function(e){return e.title===n}));if(o){var i,u,s=o.set_list[0].order,m=null!==(i=null===(u=o.set_list.find((function(e){return a==="".concat(e.order)})))||void 0===u?void 0:u.order)&&void 0!==i?i:s;return r.a.createElement(xl,{submissions:l,course:o,selectedSet:m})}return null}})))})),Ml=function(){return r.a.createElement(dt,null,r.a.createElement(c.a,null,r.a.createElement("div",null,r.a.createElement("div",{className:"sticky-top"},r.a.createElement(vr,null)),r.a.createElement(u.a,{className:"my-5",style:{width:"100%",maxWidth:"90%"}},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/ac",component:Te}),r.a.createElement(i.b,{exact:!0,path:"/fast",component:Le}),r.a.createElement(i.b,{exact:!0,path:"/short",component:Ue}),r.a.createElement(i.b,{exact:!0,path:"/first",component:Be}),r.a.createElement(i.b,{exact:!0,path:"/sum",component:Ge}),r.a.createElement(i.b,{exact:!0,path:"/streak",component:gr}),r.a.createElement(i.b,{exact:!0,path:"/lang",component:qe}),r.a.createElement(i.b,{path:"/user/:userIds([a-zA-Z0-9_]+)+",render:function(e){var t=e.match.params.userIds,n=(null!==t&&void 0!==t?t:"").split("/")[0];return r.a.createElement(tr,{userId:n})}}),r.a.createElement(i.b,{path:"/table/:userIds([a-zA-Z0-9_]*)*",render:function(e){var t=e.match.params.userIds,n=(null!==t&&void 0!==t?t:"").split("/")[0],a=(null!==t&&void 0!==t?t:"/").split("/"),l=Object(s.a)(a).skip(1).filter((function(e){return e.length>0}));return r.a.createElement(ur,{userId:n,rivals:l})}}),r.a.createElement(i.b,{path:"/list/:userIds([a-zA-Z0-9_]*)*",render:function(e){var t=e.match.params.userIds,n=(null!==t&&void 0!==t?t:"").split("/")[0],a=(null!==t&&void 0!==t?t:"/").split("/"),l=Object(s.a)(a).skip(1).filter((function(e){return e.length>0}));return r.a.createElement(Gn,{userId:n,rivals:l})}}),r.a.createElement(i.b,{path:"/contest/show/:contestId([a-zA-Z0-9_-]+)",render:function(e){var t,n=null!==(t=e.match.params.contestId)&&void 0!==t?t:"";return r.a.createElement(il,{contestId:n})}}),r.a.createElement(i.b,{path:"/contest/create",render:function(){return r.a.createElement(Br,null)}}),r.a.createElement(i.b,{path:"/contest/update/:contestId([a-zA-Z0-9_-]+)",render:function(e){var t,n=null!==(t=e.match.params.contestId)&&void 0!==t?t:"";return r.a.createElement(vl,{contestId:n})}}),r.a.createElement(i.b,{path:"/contest/recent",component:El}),r.a.createElement(i.b,{path:"".concat("/login/user"),component:hl}),r.a.createElement(i.b,{path:"/problemlist/:listId([a-zA-Z0-9_-]+)",render:function(e){var t,n=null!==(t=e.match.params.listId)&&void 0!==t?t:"";return r.a.createElement(gl,{listId:n})}}),r.a.createElement(i.b,{path:"/submissions/recent",component:Sl}),r.a.createElement(i.b,{path:"/training",component:Fl}),r.a.createElement(i.a,{path:"/",to:"/table/"}))))))};o.a.render(r.a.createElement(Ml,null),document.getElementById("root"))}},[[260,1,2]]]);
//# sourceMappingURL=main.632f9265.chunk.js.map